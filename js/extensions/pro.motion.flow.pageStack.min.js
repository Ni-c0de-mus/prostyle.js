/*!
 * @license: MIT License - See https://github.com/GaryChamberlain/pro-motion-flow-pageStack/LICENSE
 * @author: Gary Chamberlain, gary@pro.graphics.
 **/

var __extends=this.__extends||function(b,a){function d(){this.constructor=b}for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d},Pro;
(function(b){(function(a){(function(a){(function(a){(function(a){var c=function(a){function b(l,m,e,g,f){a.call(this,l,"pageStack",m,e,g,"pageStackPage");this.stacks=f}__extends(b,a);b.defaultStacksJson={current:{position:[0,0,0],rotation:[0,0,0],scale:100,opacity:100},future:{position:[140,0,-200],rotation:[0,-10,5],scale:100,opacity:80,offset:{position:[130,80,-200],rotation:[0,-5,2],scale:100,opacity:50}},past:{position:[-140,0,-200],rotation:[0,10,-5],scale:100,opacity:80,offset:{position:[-130,
80,-200],rotation:[0,5,-2],scale:100,opacity:50}}};return b}(b.Motion.Models.Flows.PlacementFlow);a.Extension=c})(a.pageStack||(a.pageStack={}))})(a.Flows||(a.Flows={}))})(a.Extensions||(a.Extensions={}))})(b.Motion||(b.Motion={}))})(Pro||(Pro={}));
(function(b){(function(a){(function(a){(function(a){(function(a){var c=function(a){function b(l,m,e){a.call(this,l,m,e);this.pageStackFlow=l}__extends(b,a);b.prototype.initializePages=function(a){var b=this,e=this.cameraElem.size.getContainedSize(this.pageStackFlow.pageAspectRatio);this.pageElems.forEach(function(g,f){a.set(b.pageElems[f].div,{width:e.width,height:e.height,perspective:1E4},"initialize")})};b.prototype.generatePageMovement=function(a,b,e){var g=this.pageStackFlow.stacks.current,f=
this.pageStackFlow.stacks.future,c=this.pageStackFlow.stacks.futureOffset,d=this.pageStackFlow.stacks.past,k=this.pageStackFlow.stacks.pastOffset,n=this.cameraElem.size.getContainedSize(this.pageStackFlow.pageAspectRatio),g=g.renderCss(n);this.applyCss(a,this.pageElems[e].div,b,1,g,Expo.easeOut);for(var d=d.duplicate(),h=e-1;0<=h;h--)g=d.renderCss(n),this.applyCss(a,this.pageElems[h].div,b,1,g,Expo.easeOut),d.adjust(k);f=f.duplicate();for(h=e+1;h<this.pageElems.length;h++)g=f.renderCss(n),this.applyCss(a,
this.pageElems[h].div,b,1,g,Expo.easeOut),f.adjust(c)};b.prototype.applyCss=function(a,b,e,c,f,d){"initialize"===e?a.set(b,f,e):(f.ease=d,a.to(b,c,f,e))};return b}(b.Motion.Render.Flows.PlacementFlow);a.Renderer=c})(a.pageStack||(a.pageStack={}))})(a.Flows||(a.Flows={}))})(a.Extensions||(a.Extensions={}))})(b.Motion||(b.Motion={}))})(Pro||(Pro={}));
(function(b){(function(a){(function(d){(function(c){(function(c){var d=b.Motion.Util;c.readJson=function(b,k){var l=a.Types.Placement.fromJson(d.getSetup(k,"placement")),m=d.convertToNumber(d.getSetup(k,"pageAspectRatio"),4/3),e=a.Types.Stacks.fromJson(d.getSetup(k,"stacks")||c.Extension.defaultStacksJson);return new c.Extension(b,l,d.getSetup(k,"defaultPageClass"),m,e)};c.writeJson=function(a,b){}})(c.pageStack||(c.pageStack={}))})(d.Flows||(d.Flows={}))})(a.Extensions||(a.Extensions={}))})(b.Motion||
(b.Motion={}))})(Pro||(Pro={}));
