/*!
 * VERSION: 0.19.0
 * DATE: 10-Aug-2015
 * UPDATES AND DOCS AT: https://prostyle.io/plus/
 * 
 * This file is part of ProStyle Plus, a set of premium extensions for ProStyle. It may be
 * used for free for personal projects or licensed per website domain name for commercial use.
 * 
 * @copyright - Copyright (c) 2013-2015, Pro Graphics, Inc. All rights reserved. 
 * @license - This work is subject to the terms at https://prostyle.io/plus/license/
 * @author: Gary Chamberlain, gary@pro.graphics.
 * 
 **/

var __extends=this&&this.__extends||function(c,a){function b(){this.constructor=c}for(var e in a)a.hasOwnProperty(e)&&(c[e]=a[e]);b.prototype=a.prototype;c.prototype=new b},ProStyle;
(function(c){(function(a){(function(a){(function(a){var b=function(c){function b(d,a){void 0===d&&(d=0);void 0===a&&(a=100);c.call(this,"mousemove");this.startPercent=d;this.endPercent=a;this.player=this.canvas=this.mouseoutBound=this.mousemoveBound=void 0;this.startVal=0;this.endVal=100;Math.max(Math.min(0,d),100);Math.max(Math.min(0,a),100);this.startVal=this.startPercent/100;this.endVal=this.endPercent/100;this.mousemoveBound=this.mousemove.bind(this);this.mouseoutBound=this.mouseout.bind(this)}
__extends(b,c);b.prototype.start=function(a,b){this.stop();this.canvas=a;this.player=b;a.div.addEventListener("mousemove",this.mousemoveBound);a.div.addEventListener("mouseout",this.mouseoutBound)};b.prototype.stop=function(){void 0!==this.player&&(this.canvas.div.removeEventListener("mousemove",this.mousemoveBound),this.canvas.div.removeEventListener("mouseout",this.mouseoutBound),this.player=this.canvas=void 0)};b.prototype.mouseout=function(a){this.player&&this.player.playCurrentStep()};b.prototype.mousemove=
function(a){this.player.seek(this.posToSeek(a.clientX/a.currentTarget.offsetWidth))};b.prototype.posToSeek=function(a){var b;if(this.startVal==this.endVal)return a<this.startVal?0:100;if(this.startVal<this.endVal){if(a<this.startVal)return 0;if(a>this.endVal)return 100;b=this.endVal-this.startVal;return(a-this.startVal)/b}if(a>this.startVal)return 0;if(a<this.endVal)return 100;b=this.startVal-this.endVal;return(this.startVal-a)/b};b.prototype.serialize=function(){return a.serialize(this)};return b}(c.Controllers.Controller);
a.MouseMoveController=b})(a.MouseMove||(a.MouseMove={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));(function(c){(function(a){(function(a){(function(a){a.deserialize=function(b){return new a.MouseMoveController(b.start,b.end)}})(a.MouseMove||(a.MouseMove={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
(function(c){(function(a){(function(a){(function(a){a.serialize=function(a){return{start:a.startPercent,end:a.endPercent}}})(a.MouseMove||(a.MouseMove={}))})(a.Controllers||(a.Controllers={}))})(c.Extensions||(c.Extensions={}))})(ProStyle||(ProStyle={}));
