/*!
 * VERSION: 0.17.0
 * DATE: 14-Jun-2015
 * UPDATES AND DOCS AT: https://pro.graphics
 * 
 * @license Copyright (c) 2011-2015, Pro Graphics, Inc. All rights reserved. 
 * This work is subject to the terms at https://pro.graphics/motion/licensing/
 * 
 * @author: Gary Chamberlain, gary@pro.graphics.
 **/

var Pro;
(function(h){(function(g){(function(g){g.autoButton=function(e,k,b,l){void 0===b&&(b=1E3);void 0===l&&(l=2);var f,d=b,a=function(){k(!1);f=setTimeout(a,d);d/=l},c=function(){void 0!==f&&(clearTimeout(f),f=void 0,k(!0))};e.onmousedown=function(){d=b;a()};e.onmouseup=function(){c()};e.onmouseout=function(){c()}};g.checkBrowserSupport=function(){var e=document.body;return e.classList&&e.dataset&&null!==g.prefixCssStyleIfNeeded("perspective")};g.configureMetaViewport=function(){var e=g.querySelector("meta[name='viewport']")||document.createElement("meta");
e.content="width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no";e.parentNode!==document.head&&(e.name="viewport",document.head.appendChild(e))};g.contentLoaded=function(e,k){var b=!1,l=!0,f=e.document,d=f.documentElement,a=f.addEventListener,c=a?"addEventListener":"attachEvent",t=a?"removeEventListener":"detachEvent",u=a?"":"on",r=function(a){if("readystatechange"!=a.type||"complete"==f.readyState)("load"==a.type?e:f)[t](u+a.type,r,!1),!b&&(b=!0)&&k.call(e,a.type||a)},q=function(){try{d.doScroll("left")}catch(a){setTimeout(q,
50);return}r("poll")};if("complete"==f.readyState)k.call(e,"lazy");else{if(!a&&d.doScroll){try{l=!e.frameElement}catch(y){}l&&q()}f[c](u+"DOMContentLoaded",r,!1);f[c](u+"readystatechange",r,!1);e[c](u+"load",r,!1)}};g.convertToNumber=function(e,k,b){void 0===k&&(k=0);void 0===b&&(b=!1);"string"==typeof e&&b&&(e=parseFloat(e));return isNaN(e)?k:Number(e)};g.convertToNumber2=function(e){return""===e?void 0:isNaN(e)?void 0:Number(e)};g.logError=function(e,k){console.log("Pro Motion Error: "+e+" - "+
k)};g.querySelector=function(e,k){void 0===k&&(k=document);try{return k.querySelector(e)}catch(b){g.logError("Util.querySelector",b.message)}};g.createChildDivElement=function(e,k){void 0===k&&(k=void 0);var b=document.createElement("div");k&&(b.className=k);e.appendChild(b);return b};g.createChildImageElement=function(e,k,b,l,f){void 0===l&&(l=void 0);void 0===f&&(f=void 0);var d=document.createElement("img");d.setAttribute("class",k);d.setAttribute("src",b);void 0===l&&void 0===f&&(f=100);void 0!==
l&&d.setAttribute("width",l.toString()+"%");void 0!==f&&d.setAttribute("height",f.toString()+"%");e.appendChild(d);return d};g.createStyleElement=function(e){var k=document.createElement("style");k.type="text/css";k.id=e;g.querySelector("head").appendChild(k);return k};g.createSvgElement=function(e,k,b){e=document.createElementNS("http://www.w3.org/2000/svg",e);for(var l in k)e.setAttribute(l,k[l]);b&&b.appendChild(e);return e};var h=document.createElement("dummy").style,x=["Webkit","Moz","O","ms",
"Khtml"],m={};g.prefixCssStyleIfNeeded=function(e){if("undefined"===typeof m[e]){var k=e.charAt(0).toUpperCase()+e.substr(1),k=(e+" "+x.join(k+" ")+k).split(" ");m[e]=null;for(var b in k)if(void 0!==h[k[b]]){m[e]=k[b];break}}return m[e]};h=document.createElement("dummy").style;g.encodeStyle=function(e,k){h.cssText="";e=g.prefixCssStyleIfNeeded(e);h[e]=k;return h.cssText};h=document.createElement("dummy").style;g.encodeStyles=function(e){h.cssText="";var k,b;for(k in e)e.hasOwnProperty(k)&&(b=g.prefixCssStyleIfNeeded(k),
null!==b&&(h[b]=e[k]));return h.cssText};h=document.createElement("dummy").style;g.encodeStyleSheet=function(e){var k=[];e.selectors.forEach(function(b){e.hasOwnProperty(b)&&("string"===typeof e[b]?k.push(b+" { "+e[b]+" }\n"):k.push(b+" { "+g.encodeStyles(e[b])+" }\n"))});return k.join("")};g.getElementText=function(e){return e[document.body.textContent?"textContent":"innerText"]};g.lowercaseProperties=function(e){var k={},b;for(b in e)e.hasOwnProperty(b)&&(k[b.toString().trim().toLowerCase()]=e[b]);
return k};g.getSetup=function(e,k){if(void 0!==e){k=k.toLowerCase();e=g.lowercaseProperties(e);var b=e.setup;return void 0!==b&&(b=g.lowercaseProperties(b),void 0!==b[k])?b[k]:e[k]}};g.getSign=function(e){return e?0>e?-1:1:0};g.getGSTransform=function(e){var k={x:0,y:0,z:0,xPercent:0,yPercent:0,rotationX:0,rotationY:0,rotation:0,scaleX:1,scaleY:1,skewX:0};e&&(e=e._gsTransform)&&(void 0!==e.x&&(k.x=e.x),void 0!==e.y&&(k.y=e.y),void 0!==e.z&&(k.z=e.z),void 0!==e.xPercent&&(k.xPercent=e.xPercent),void 0!==
e.yPercent&&(k.yPercent=e.yPercent),void 0!==e.rotationX&&(k.rotationX=e.rotationX),void 0!==e.rotationY&&(k.rotationY=e.rotationY),void 0!==e.rotation&&(k.rotation=e.rotation),void 0!==e.scaleX&&(k.scaleX=e.scaleX),void 0!==e.scaleY&&(k.scaleY=e.scaleY),void 0!==e.skewX&&(k.skewX=e.skewX));return k};g.getStyleElement=function(e){return g.querySelector("#"+e)||g.createStyleElement(e)};g.insertIntoArray=function(e,k,b){e.splice(k,0,b)};g.isAbsoluteUrl=function(e){if(e){e=e.toString().trim();if(0===
e.indexOf("//"))return!0;e=e.toLowerCase();if(0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("ftp://"))return!0}return!1};g.logStepValues=function(e,k,b,l,f){var d=[];d.push("f");d.push(e.toString());d.push("p");d.push(k.toString());d.push("i");d.push(b.toString());d.push("s");d.push(l.toString());d.push(" ");d.push(JSON.stringify(f));console.log(d.join(""))};g.logWarning=function(e,k){console.log("Pro Motion Warning: "+e+" - "+k)};g.makeArray=function(e){return[].slice.call(e)};
g.querySelectorAll=function(e,k){void 0===k&&(k=document);try{return g.makeArray(k.querySelectorAll(e))}catch(b){g.logError("Util.querySelector",b.message)}};g.setElementText=function(e,k){e[void 0!==document.body.textContent?"textContent":"innerText"]=k};g.splitNoParens=function(e){var k=0,b=0,l=[];e=e.match(/([^()]+)|([()])/g);for(var f=e.length,d,a="",c=0;c<f;c++)d=e[c],"("===d?k++:")"===d&&b++,0!==k?(a+=d,k===b&&(l[l.length-1]+=a,k=b=0,a="")):l=l.concat(d.match(/([^,]+)/g));return l};g.svgAddClass=
function(e,k){g.svgRemoveClass(e,k);var b=e.getAttribute("class")||"",b=b+(0===b.length?"":" ")+k;e.setAttribute("class",b)};g.svgGetBounds=function(e){try{var k=e.getBBox()}catch(b){console.error(b)}0===k.width&&g.logWarning("svgGetBounds","getBBox returned an empty rect");return k};g.svgRemoveClass=function(e,k){var b=e.getAttribute("class")||"",b=b.replace(new RegExp("\\s?"+k),"");e.setAttribute("class",b)};var n=null;g.throttle=function(e,k){var b=this,l=arguments;return function(){clearTimeout(n);
n=setTimeout(function(){e.apply(b,l)},k)}}})(g.Util||(g.Util={}));(function(h){(function(g){g[g.Back=0]="Back";g[g.Bounce=1]="Bounce";g[g.Circle=2]="Circle";g[g.Curve=3]="Curve";g[g.Elastic=4]="Elastic";g[g.Expo=5]="Expo";g[g.Linear=6]="Linear";g[g.Sine=7]="Sine";g[g.SlowMo=8]="SlowMo";g[g.SlowMoBack=9]="SlowMoBack";g[g.Stepped=10]="Stepped";g[g.Stop=11]="Stop";g[g.StopAndReturn=12]="StopAndReturn"})(h.EazeEffect||(h.EazeEffect={}));(function(g){g[g.Less=0]="Less";g[g.Normal=1]="Normal";g[g.More=
2]="More";g[g.Extra=3]="Extra"})(h.EazeAmount||(h.EazeAmount={}));(function(g){g[g.In=0]="In";g[g.Out=1]="Out";g[g.InOut=2]="InOut"})(h.EazeEnding||(h.EazeEnding={}));var p=function(){function g(m,h,e){void 0===m&&(m=void 0);void 0===h&&(h=void 0);void 0===e&&(e=void 0);this.ease=this.ending=this.amount=this.effect=void 0;this.effect=void 0==m?g.DEFAULT_EFFECT:m;this.amount=void 0==h?g.DEFAULT_AMOUNT:h;this.ending=void 0==e?g.DEFAULT_ENDING:e;h="easeOut";2==this.ending?h="easeInOut":0==this.ending&&
(h="easeIn");6==m?this.ease=Linear.easeNone:0==m?this.setBackEase(h):1==m?this.ease=Bounce[h]:2==m?this.ease=Circ[h]:3==m?this.setCurveEase(h):4==m?this.setElasticEase(h):5==m?this.ease=Expo[h]:7==m?this.ease=Sine[h]:8==m?this.setSlowMoEase(0):9==m?this.setSlowMoEase(1):10==m?this.setSteppedEase():11==m?this.setSlowMoEase(2):12==m&&this.setSlowMoEase(2,!0)}g.prototype.setBackEase=function(g){this.ease=Back[g].config([1,1.9,3,4.1][this.amount])};g.prototype.setCurveEase=function(g){this.ease=[Power1,
Power2,Power3,Power4][this.amount][g]};g.prototype.setElasticEase=function(g){this.ease=Elastic[g].config([.8,1.1,1.25,1.75][this.amount],[.3,.26,.2,.15][this.amount])};g.prototype.setSlowMoEase=function(g,h){void 0===h&&(h=!1);var e=[.05,.5,.7,.9][this.amount],k=[.7,.6,.5,.4][this.amount];1==g?k=1/[.7,.682,.655,.64][this.amount]:2==g&&(k=1);this.ease=SlowMo.ease.config(e,k,h)};g.prototype.setSteppedEase=function(){this.ease=SteppedEase.config([3,6,12,24][this.amount])};g.getByText=function(m){m=
m.trim().toLowerCase().split(" ");var h=g.DEFAULT_EFFECT,e=g.DEFAULT_AMOUNT,k=g.DEFAULT_ENDING;m.forEach(function(b){b=b.trim();"back"==b&&(h=0);"bounce"==b&&(h=1);"circle"==b&&(h=2);"curve"==b&&(h=3);"elastic"==b&&(h=4);"expo"==b&&(h=5);"linear"==b&&(h=6);"sine"==b&&(h=7);"slowmo"==b&&(h=8);"slowmoback"==b&&(h=9);"stepped"==b&&(h=10);"stop"==b&&(h=11);"stopandreturn"==b&&(h=12);"less"==b&&(e=0);"normal"==b&&(e=1);"more"==b&&(e=2);"extra"==b&&(e=3);"in"==b&&(k=0);"out"==b&&(k=1);"inout"==b&&(k=2)});
return new g(h,e,k)};g.DEFAULT_EFFECT=5;g.DEFAULT_AMOUNT=1;g.DEFAULT_ENDING=1;g.DEFAULT=new g;return g}();h.Eaze=p;p=function(){function g(m,h){void 0===m&&(m=g.DEFAULT_WIDTH);void 0===h&&(h=g.DEFAULT_HEIGHT);this.width=m;this.height=h;this.width=Math.max(g.MIN,Math.min(m,g.MAX));this.height=Math.max(g.MIN,Math.min(h,g.MAX))}g.prototype.aspectRatio=function(){return this.height?this.width/this.height:1};g.prototype.getContainedSize=function(m){var h=this.aspectRatio();return m<h?new g(this.height*
m,this.height):m>h?new g(this.width,this.width/m):new g(this.width,this.height)};g.DEFAULT_WIDTH=1024;g.DEFAULT_HEIGHT=768;g.MIN=1;g.MAX=4096;return g}();h.Size=p;p=function(){function h(g,n){void 0===g&&(g=1);this.x=g;this.y=n;void 0===n&&(this.y=g)}h.fromJson=function(m){if(void 0===m||null===m)return new h;var n=100,e=void 0;return"number"===typeof m?new h(m/100,m/100):"string"===typeof m?(m=m.split(","),0<m.length&&(n=g.Util.convertToNumber(m[0].trim(),100)/100),1<m.length&&(e=g.Util.convertToNumber(m[1].trim(),
100)/100),new h(n,e)):m instanceof Array?(0<m.length&&(n=g.Util.convertToNumber((m[0]||"").toString().trim(),100)/100),1<m.length&&(e=g.Util.convertToNumber((m[1]||"").toString().trim(),100)/100),new h(n,e)):new h(g.Util.convertToNumber(m.x,100)/100,void 0===m.y?void 0:g.Util.convertToNumber(m.y,100)/100)};h.prototype.equals=function(g){return void 0===g?!1:this.x===g.x&&this.y===g.y};return h}();h.Scale=p;p=function(){function h(g,n,e){void 0===g&&(g=0);void 0===n&&(n=0);void 0===e&&(e=0);this.x=
g;this.y=n;this.z=e}h.fromJson=function(m){if(void 0===m||null===m)return new h;var n=0,e=0,k=0;return"number"===typeof m?new h(m):"string"===typeof m?(m=m.split(","),0<m.length&&(n=g.Util.convertToNumber(m[0].trim())),1<m.length&&(e=g.Util.convertToNumber(m[1].trim())),2<m.length&&(k=g.Util.convertToNumber(m[2].trim())),new h(n,e,k)):m instanceof Array?(0<m.length&&(n=g.Util.convertToNumber((m[0]||"").toString().trim())),1<m.length&&(e=g.Util.convertToNumber((m[1]||"").toString().trim())),2<m.length&&
(k=g.Util.convertToNumber((m[2]||"").toString().trim())),new h(n,e,k)):new h(g.Util.convertToNumber(m.x),g.Util.convertToNumber(m.y),g.Util.convertToNumber(m.z))};h.prototype.equals=function(g){return void 0===g?!1:this.x===g.x&&this.y===g.y&&this.z===g.z};return h}();h.Xyz=p;p=function(){function p(g,h,e,k){void 0===k&&(k=1);this.position=g;this.rotation=h;this.scale=e;this.opacity=k;Math.max(0,Math.min(k,1))}p.prototype.duplicate=function(){return new p(new h.Xyz(this.position.x,this.position.y,
this.position.z),new h.Xyz(this.rotation.x,this.rotation.y,this.rotation.z),new h.Scale(this.scale.x,this.scale.y),this.opacity)};p.prototype.adjust=function(g){this.position.x+=g.position.x;this.position.y+=g.position.y;this.position.z+=g.position.z;this.rotation.x+=g.rotation.x;this.rotation.y+=g.rotation.y;this.rotation.z+=g.rotation.z;this.scale.x=Math.max(0,this.scale.x*g.scale.x);this.scale.y=Math.max(0,this.scale.y*g.scale.y);this.opacity=Math.max(0,Math.min(this.opacity*g.opacity,1))};p.prototype.renderCss=
function(g,h,e){void 0===h&&(h={});void 0===e&&(e=!0);e&&(h.xPercent=-50,h.yPercent=-50);e=(g.width+g.height)/2;h.x=this.position.x/100*g.width;h.y=this.position.y/100*g.height;h.z=this.position.z/100*e;h.zIndex=10*this.position.z;h.rotationX=this.rotation.x;h.rotationY=this.rotation.y;h.rotationZ=this.rotation.z;h.scaleX=this.scale.x;h.scaleY=this.scale.y;h.autoAlpha=this.opacity;return h};p.fromJson=function(m){m=m||{};var n=new h.Xyz,e=new h.Xyz,k=new h.Scale,b=1,l;for(l in m)if(m.hasOwnProperty(l)){var f=
l.trim().toLowerCase();"position"===f||"pos"===f?n=h.Xyz.fromJson(m[l]):"rotation"===f||"rotate"===f||"rot"===f?e=h.Xyz.fromJson(m[l]):"scale"===f?k=h.Scale.fromJson(m[l]):"opacity"===f&&(f=m[l],"number"===typeof f?b=f/100:"string"===typeof f?b=g.Util.convertToNumber(f,100)/100:f instanceof Array?0<f.length&&(b=g.Util.convertToNumber(f[0],100)/100):b=g.Util.convertToNumber(f.percent,100)/100)}return new p(n,e,k,Math.max(0,Math.min(b,1)))};p.prototype.equals=function(g){return void 0===g||void 0===
g.position||void 0===g.rotation||void 0===g.scale||void 0===g.opacity||!1===this.position.equals(g.position)||!1===this.rotation.equals(g.rotation)||!1===this.scale.equals(g.scale)?!1:this.opacity===g.opacity};return p}();h.Placement=p;p=function(){function h(g,n,e,k,b,l){void 0===g&&(g=0);void 0===n&&(n=0);void 0===e&&(e=0);void 0===k&&(k="rgba(0,0,0,0.7)");void 0===b&&(b=0);void 0===l&&(l=!1);this.x=g;this.y=n;this.blur=e;this.color=k;this.spread=b;this.inset=l}h.prototype.render=function(h,n,e){var k=
(h+n)/2;h=Math.round(this.x/10*k)/10;n=Math.round(this.y/10*k)/10;var b=Math.round(this.blur/10*k)/10,k=Math.round(this.spread/10*k)/10;0===h&&0!==this.x&&(h=g.Util.getSign(this.x));0===n&&0!==this.y&&(n=g.Util.getSign(this.y));0===b&&0!==this.blur&&(b=g.Util.getSign(this.blur));0===k&&0!==this.spread&&(k=g.Util.getSign(this.spread));var b=Math.abs(b),l=[];e&&this.inset&&l.push("inset");l.push(h.toString()+"px");l.push(n.toString()+"px");l.push(b.toString()+"px");e&&l.push(k.toString()+"px");"number"===
typeof this.color?l.push("hsl("+Math.abs(this.color%360)+", 50%, 50%)"):l.push(this.color);return l.join(" ")};h.fromJson=function(m){m=m||[];if(!(m instanceof Array))return new h;var n=void 0,e=void 0,k=void 0,b=void 0,l=void 0,f=void 0;0<m.length&&void 0!==m[0]&&(n=g.Util.convertToNumber(m[0],0));1<m.length&&void 0!==m[1]&&(e=g.Util.convertToNumber(m[1],0));2<m.length&&void 0!==m[2]&&(k=Math.max(0,g.Util.convertToNumber(m[2],0)));3<m.length&&void 0!==m[3]&&(b=m[3]);4<m.length&&void 0!==m[4]&&(l=
g.Util.convertToNumber(m[4],0));5<m.length&&void 0!==m[5]&&(f=!!m[5]);return new h(n,e,k,b,l,f)};h.prototype.toJson=function(){var g=6;!0!==this.inset&&(g--,"rgba(0,0,0,0.5)"!==this.color&&(g--,0!==this.spread&&(g--,0!==this.blur&&g--)));var h=[];h.push(this.x);h.push(this.y);3<=g&&h.push(this.blur);4<=g&&h.push(this.spread);5<=g&&h.push(this.color.toString());6<=g&&h.push(!!this.inset);return h};h.prototype.equals=function(g){return void 0===g||g.x!==this.x||g.y!==this.y||g.blur!==this.blur||g.color!==
this.color||g.spread!==this.spread||g.inset!==this.inset?!1:!0};return h}();h.Shadow=p;p=function(){function g(h,p,e,k,b){this.current=h;this.future=p;this.futureOffset=e;this.past=k;this.pastOffset=b}g.fromJson=function(m){m=m||{};m.future=m.future||{};m.past=m.past||{};return new g(h.Placement.fromJson(m.current),h.Placement.fromJson(m.future),h.Placement.fromJson(m.future.offset),h.Placement.fromJson(m.past),h.Placement.fromJson(m.past.offset))};return g}();h.Stacks=p})(g.Types||(g.Types={}));
(function(g){(function(g){g.svg='<svg viewBox="0 0 880 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M866 476c9.333 6.667 14 14.667 14 24c0 9.333 -4.667 16.667 -14 22c0 0 -372 248 -372 248c-14.667 9.333 -27 11.333 -37 6c-10 -5.333 -15 -17.333 -15 -36c0 0 0 -482 0 -482c0 -18.667 5 -30.667 15 -36c10 -5.333 22.333 -3.333 37 6c0 0 372 248 372 248m-454 0c9.333 6.667 14 14.667 14 24c0 9.333 -4.667 16.667 -14 22c0 0 -360 248 -360 248c-13.333 9.333 -25.333 11.333 -36 6c-10.667 -5.333 -16 -17.333 -16 -36c0 0 0 -482 0 -482c0 -18.667 5.333 -30.667 16 -36c10.667 -5.333 22.667 -3.333 36 6c0 0 360 248 360 248" />  </g></svg>'})(g.fastForward||
(g.fastForward={}));(function(g){g.svg='<svg viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M 235.53172,912.14362 C 222.1737,911.65675 192.88213,908.97613 179.7563,907.0393 142.78725,901.5842 111.49908,892.23905 88.608558,879.81533 25.450284,845.53645 -2.363022,754.52992 11.595266,627.82372 25.966799,497.36601 84.182786,347.68421 159.54762,247.41661 197.38417,197.07776 237.03803,160.39415 278.89341,137.01036 374.98294,83.32699 506.9775,80.13258 647.3983,128.09214 c 49.55485,16.92505 104.25567,43.36958 148.76794,71.92026 67.85023,43.51989 124.36319,97.22188 156.87086,149.06805 18.94366,30.21307 31.87969,63.3221 38.06746,97.43144 2.33759,12.88545 2.53863,16.10095 2.59068,41.42752 0.0635,30.88207 -0.93881,40.20361 -6.88779,64.06813 -4.43071,17.77393 -9.49209,31.52197 -18.08915,49.13496 -8.23109,16.86308 -14.88167,27.71 -25.9912,42.39094 C 899.81543,700.24002 812.14549,761.98761 706.85748,809.66081 557.06683,877.48427 374.39035,917.2046 235.53172,912.14362 z m 20.199,-175.08151 c 6.38062,-2.666 6.29534,-1.92178 6.29534,-54.94359 0,-44.83349 0.10257,-47.73586 1.686,-47.70791 0.92731,0.0164 4.93759,0.46167 8.91174,0.9896 31.04792,4.12438 61.94393,2.5304 86.22704,-4.44863 37.74398,-10.8477 65.19426,-39.86566 76.5239,-80.89416 5.21836,-18.89745 5.3677,-20.86694 5.3677,-70.78889 0,-44.41671 -0.10617,-47.267 -2.14793,-57.66335 -10.62749,-54.11369 -43.50561,-87.90953 -95.15856,-97.81468 -34.23802,-6.56561 -88.65352,-3.28975 -141.91157,8.54321 -17.90378,3.97789 -23.30288,6.3891 -24.9484,11.14185 -0.87518,2.52775 -1.1629,48.97756 -1.2043,194.41663 -0.0485,170.42766 0.10664,191.43468 1.43437,194.23266 1.3611,2.86829 3.29589,4.39796 7.18213,5.67829 0.79484,0.26186 16.52472,0.51032 34.95531,0.55216 26.91396,0.0611 34.15522,-0.19347 36.78723,-1.29319 z m 36.16169,-170.6532 c -0.79483,-0.16956 -7.83992,-0.8255 -15.65574,-1.45764 l -14.21061,-1.14936 0,-84.09937 0,-84.09937 2.64944,-0.54561 c 4.32406,-0.89047 29.87188,-2.4793 39.7415,-2.47153 19.88057,0.0156 31.80455,5.28992 40.05624,17.71784 7.62813,11.4888 9.88532,23.73156 10.67225,57.88521 0.94764,41.1288 -1.53911,63.6562 -8.46381,76.6734 -5.72666,10.76513 -16.75587,18.88668 -28.66728,21.10972 -4.72311,0.88147 -22.63346,1.1809 -26.12199,0.43671 z m 525.851,69.28618 c 42.38495,-6.01923 75.22316,-29.25194 92.24766,-65.26424 11.84331,-25.05233 14.87524,-43.63329 14.87524,-91.16232 0,-40.01963 -1.78087,-55.69933 -8.65755,-76.22473 -13.90501,-41.50378 -45.23465,-69.21991 -89.13065,-78.85057 -28.6265,-6.28057 -64.499,-4.3605 -90.6127,4.85004 -45.55567,16.06787 -72.81618,52.13077 -79.95784,105.77608 -1.95361,14.67474 -1.92487,74.08051 0.043,89.09299 5.72313,43.65858 25.18804,75.73978 57.80606,95.27346 26.94864,16.13849 64.15813,22.08028 103.38668,16.50929 z m -38.93145,-72.11263 c -13.50019,-2.93712 -23.06811,-10.72915 -29.29281,-23.85582 -6.58723,-13.89118 -7.22294,-19.21222 -7.22294,-60.45811 0,-41.45888 0.64564,-46.8115 7.29042,-60.44081 8.16765,-16.7529 20.8752,-24.30337 40.94711,-24.32965 17.26097,-0.0226 28.83801,5.77322 37.13719,18.59198 8.46721,13.0783 10.47888,25.78284 10.47888,66.17848 0,38.81099 -1.53158,49.75666 -8.93668,63.86774 -8.79754,16.76446 -29.22827,25.05258 -50.40117,20.44619 z m -221.41931,65.75453 3.2969,-3.59872 0.03,-107.19579 0.03,-107.19581 8.93659,-4.08853 c 20.61319,-9.43061 36.60854,-13.59307 55.5365,-14.45218 11.51659,-0.52274 12.1389,-0.6588 14.69231,-3.2122 l 2.66628,-2.66634 0,-29.49265 c 0,-32.3359 -0.065,-32.73152 -5.87582,-35.73638 -4.84819,-2.50711 -19.8152,-1.095 -36.08282,3.40434 -9.76904,2.70194 -27.10272,11.03633 -34.87766,16.76991 -3.31328,2.44336 -6.2397,4.44247 -6.50316,4.44247 -0.26345,0 -0.47901,-3.43499 -0.47901,-7.63334 0,-7.23931 -0.15301,-7.78635 -2.9644,-10.59774 l -2.96441,-2.96439 -36.03933,0 -36.03934,0 -3.14635,2.81116 -3.14635,2.81117 -0.28573,145.31628 c -0.1992,101.30298 0.027,146.3959 0.74674,148.88076 1.02228,3.52923 4.48752,6.81938 8.20987,7.79506 1.05978,0.27777 17.45985,0.43678 36.44462,0.35334 l 34.51776,-0.1517 3.29689,-3.59872 z" />  </g></svg>'})(g.logo||
(g.logo={}));(function(g){g.svg='<svg viewBox="0 0 530 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M440 150c60 0 90 21.333 90 64c0 0 0 570 0 570c0 44 -30 66 -90 66c-60 0 -90 -22 -90 -66c0 0 0 -570 0 -570c0 -42.667 30 -64 90 -64c0 0 0 0 0 0m-350 0c60 0 90 21.333 90 64c0 0 0 570 0 570c0 44 -30 66 -90 66c-60 0 -90 -22 -90 -66c0 0 0 -570 0 -570c0 -42.667 30 -64 90 -64c0 0 0 0 0 0" />  </g></svg>'})(g.pause||(g.pause={}));(function(g){g.svg='<svg viewBox="0 0 500 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M486 474c9.333 6.667 14 15.333 14 26c0 9.333 -4.667 17.333 -14 24c0 0 -428 266 -428 266c-16 10.667 -29.667 12.667 -41 6c-11.333 -6.667 -17 -20 -17 -40c0 0 0 -514 0 -514c0 -20 5.667 -33.333 17 -40c11.333 -6.667 25 -4.667 41 6c0 0 428 266 428 266" />  </g></svg>'})(g.play||
(g.play={}));(function(g){g.svg='<svg viewBox="0 0 600 1000" xmlns="http://www.w3.org/2000/svg">  <g>    <path d="M174 500c0 -9.333 4.667 -17.333 14 -24c0 0 364 -228 364 -228c13.333 -9.333 24.667 -11 34 -5c9.333 6 14 17.667 14 35c0 0 0 442 0 442c0 17.333 -4.667 29 -14 35c-9.333 6 -20.667 4.333 -34 -5c0 0 -364 -228 -364 -228c-9.333 -6.667 -14 -14 -14 -22c0 0 0 0 0 0m-174 -234c0 -38.667 25.333 -58 76 -58c49.333 0 74 19.333 74 58c0 0 0 466 0 466c0 38.667 -24.667 58 -74 58c-50.667 0 -76 -19.333 -76 -58c0 0 0 -466 0 -466c0 0 0 0 0 0" />  </g></svg>'})(g.toStart||
(g.toStart={}))})(g.Svg||(g.Svg={}));(function(g){var h=function(){return function(g){this.initPropertyLists=g;this.init=g[0]}}();g.Model=h})(g.Models||(g.Models={}));(function(g){g.rootUrl=void 0;g.Config={"default":{auto:{start:!0,advance:!1,advanceDelay:0,restart:!0,resize:!0},controls:{type:"track",autoHide:!0,color:"#EEE",highlightColor:"#FFF",backColor:"#094766",stepColor1:"#0c5f89",stepColor2:"#EEE",startHint:!0},keyboard:!1,touch:!1,mouseWheel:!1,debugBar:!1}}})(g.Stories||(g.Stories={}))})(h.Motion||
(h.Motion={}))})(Pro||(Pro={}));var __extends=this.__extends||function(h,g){function v(){this.constructor=h}for(var p in g)g.hasOwnProperty(p)&&(h[p]=g[p]);v.prototype=g.prototype;h.prototype=new v};
(function(h){(function(g){function v(e){if(void 0!==e.dataset.proMotion){"relative"!==e.style.position&&"absolute"!==e.style.position&&(e.style.position="relative");var g=document.createElement("progress");g.value=1;g.max=2;g.style.position="absolute";g.style.left="50%";g.style.top="50%";g.style.transform="translate(-50%,-50%)";e.innerHTML="";e.appendChild(g)}}function p(){var e=document.body;if(e)if(void 0!==e.dataset.proMotion)v(e);else for(var e=document.getElementsByTagName("div"),g=0;g<e.length;g++)v(e[g])}
function x(e){var k=e.dataset.proMotion;if(void 0!==k){var b=h.Motion.Stories[k];if(void 0===b||void 0===b.story)e.innerHTML="<strong style='background-color: #FFF;color:#C00'>Missing story at Pro.Motion.Stories."+k+"</strong>";else{var l=void 0,f=e.dataset.proMotionConfig;void 0!==f&&(l=h.Motion.Stories.Config[f]);l=l||b.config||h.Motion.Stories.Config[k]||h.Motion.Stories.Config.default;e.innerHTML="";k=g.Serialization.StoryReader.read(b.story);l=new g.Render.Canvas(k,e,l);e.proMotionCanvas=l}}}
function m(){var e=document.body;if(e)if(void 0!==e.dataset.proMotion)x(e);else for(var e=document.getElementsByTagName("div"),g=0;g<e.length;g++)x(e[g])}function n(){p();window.addEventListener("load",function(){void 0===h.Motion.Stories.rootUrl&&(h.Motion.Stories.rootUrl=window.Pro_Motion_Stories_rootUrl);p();m()})}(function(e){var k=function(b){function e(f,d,a){b.call(this,[f]);this.padding=d;this.imageRootUrl=a;this.setAdjustedImageRootUrl(a)}__extends(e,b);e.prototype.setAdjustedImageRootUrl=
function(f){if(f&&(f=f.toString().trim(),g.Util.isAbsoluteUrl(f))){this.adjustedImageRootUrl=f;return}var d=h.Motion.Stories.rootUrl;if(d){var a=d.lastIndexOf("/")===d.length-1;f&&(d=0===f.indexOf("/")?a?d+f.substr(1):d+f:a?d+f:d+("/"+f))}else d=f;d&&d.lastIndexOf("/")!==d.length-1&&(d+="/");this.adjustedImageRootUrl=d};e.prototype.adjustBackgroundImage=function(f,d){var a=this,c=[];g.Util.splitNoParens(f).forEach(function(d){d=d.trim();0===d.toLowerCase().indexOf("url(")&&(d="url("+a.adjustImageUrl(d)+
")");c.push(d)});return c.join(",")};e.prototype.adjustImageUrl=function(f){0===f.toLowerCase().indexOf("url(")&&(f=f.substr(4,f.length-5).trim());this.adjustedImageRootUrl&&(g.Util.isAbsoluteUrl(f)||(f=0===f.indexOf("/")?this.adjustedImageRootUrl+f.substr(1):this.adjustedImageRootUrl+f));return f};return e}(e.Model);e.Canvas=k;k=function(b){function e(f,d,a){b.call(this,[f]);this.aspectRatio=d;this.padding=a}__extends(e,b);return e}(e.Model);e.Frame=k;k=function(){return function(b,e,f,d){this.canvas=
b;this.frame=e;this.flows=f;this.classes=d}}();e.Story=k;(function(b){var e=function(){function f(d,a){this.propertyTypes=d;this.properties=a}f.prototype.getPropertyOfType=function(d){for(var a=0;a<this.properties.length;a++){var c=this.properties[a];if(c.type===d)return c}};f.prototype.hasAnythingSet=function(){for(var d=0;d<this.properties.length;d++)for(var a=this.properties[d],c=0;c<a.type.variableTypes.length;c++)if(void 0!==a[a.type.variableTypes[c].jsonNames[0]].getValue())return!0;return!1};
return f}();b.PropertyList=e})(e.Properties||(e.Properties={}));k=function(b){function l(f,d){b.call(this,[f]);this.flow=d;this.steps=[];this.items=[];this.story=d.story}__extends(l,b);l.prototype.insertStep=function(f){g.Util.insertIntoArray(this.steps,f,new e.Step);this.canvasScriptSet.insertStep(f);this.frameScriptSet.insertStep(f);this.pageScriptSet.insertStep(f);this.items.forEach(function(d){d.scriptSets.forEach(function(a){a.insertStep(f)})})};l.prototype.deleteStep=function(f){this.steps.splice(f,
1);this.canvasScriptSet.deleteStep(f);this.frameScriptSet.deleteStep(f);this.pageScriptSet.deleteStep(f);this.items.forEach(function(d){d.scriptSets.forEach(function(a){a.deleteStep(f)})})};l.prototype.deleteItem=function(f){this.items.splice(f,1)};return l}(e.Model);e.Page=k;(function(b){var e=function(){function f(d,a,c,f,b){void 0===b&&(b=void 0);this.story=d;this.flowType=a;this.placement=c;this.pageAspectRatio=f;this.defaultPageClass=b;this.pages=[]}f.prototype.getDefaultPageClassName=function(){return this.defaultPageClass};
f.prototype.getDefaultPageClassValue=function(){};return f}();b.Flow=e;e=function(f){function d(a,c,d,b){f.call(this,a,"simple",c,b,d)}__extends(d,f);d.prototype.getDefaultPageClassName=function(){return this.defaultPageClass||"simpleFlowPage"};return d}(b.Flow);b.SimpleFlow=e})(e.Flows||(e.Flows={}))})(g.Models||(g.Models={}));(function(e){(function(e){(function(b){var e=function(f){function d(a,c,d,b){f.call(this,a,c,d,b);this.flowType="unknown"}__extends(d,f);return d}(h.Motion.Models.Flows.SimpleFlow);
b.Extension=e})(e.unknown||(e.unknown={}))})(e.Flows||(e.Flows={}))})(g.Extensions||(g.Extensions={}));(function(e){var g=h.Motion.Models.Properties,b=function(){function b(f,d){this.model=f;this.element=d;this.div=void 0;if(d instanceof HTMLDivElement||d instanceof HTMLBodyElement)this.div=d;d.proCache={}}b.prototype.initializeProperties=function(f,d,a,c,t,e,r,q){var y=this;void 0===r&&(r=void 0);void 0===q&&(q=void 0);TweenMax.set(d,{clearProps:"all"});void 0!==r&&TweenMax.set(d,r);var h=[];for(r=
0;r<d.length;r++){var m={force3D:!0,element:d[r],elementIndex:r};e&&(m.xPercent=-50,m.yPercent=-50);h.push(m)}var z=[];t.properties.forEach(function(a){z["pro_motion_"+a.type.jsonNames[0]]=a});t.propertyTypes.forEach(function(c){var d=z["pro_motion_"+c.jsonNames[0]];void 0===d&&(d=new g.Property(c));d.writeCssBuckets(f,y,a,h,!0)});b.postProcessCssBuckets(h,q,t.properties,a);for(r=0;r<d.length;r++)c.set(d[r],h[r],"initialize")};b.prototype.generateEventTimeline=function(f,d,a,c,b,g,r){var q=this;void 0===
r&&(r=void 0);var l=new TimelineMax;c.actions.forEach(function(c){if(0===c.actionType){var k=l.totalDuration(),h=e.Actions.SetPropertiesAction.generateTimeline(f,q,d,c,l,a,r);void 0!==h&&(c=l.totalDuration(),(h=0<h?f.items[h-1].div:void 0)&&b.seek(g+"+="+c),c=new TimelineMax,e.Actions.SetPropertiesAction.generateMoveTo(f.div,h,c),l.add(c,k))}});b.add(l,g)};b.prototype.generateActionsForStep=function(f,d,a,c,b,e,r,g){var l=this;void 0===g&&(g=void 0);r.scripts.forEach(function(r){1===r.type&&r.stepIndex===
b&&l.generateEventTimeline(f,d,a,r,c,e,g)})};b.postProcessCssBuckets=function(f,d,a,c){for(var b=0;b<f.length;b++){var e=f[b],r=e.element.proCache;void 0!==r&&(void 0!==e.width&&(r.width=e.width),void 0!==e.height&&(r.height=e.height))}d&&d(a,f,c);f.forEach(function(a){delete a.element;delete a.elementIndex})};return b}();e.Visual=b;(function(b){var f=h.Motion.Util,d=function(a){function c(c,d,b){void 0===b&&(b=void 0);a.call(this,c,b||f.createChildDivElement(d.div,"pro motion-item"));this.item=c;
this.itemSetElem=d}__extends(c,a);c.prototype.initializeItem=function(a,c){var d=c.getContainedSize(this.item.itemSet.flow.pageAspectRatio);this.initializeProperties(this.item.itemSet.flow.story,[this.element],d,a,this.item.init,!1)};c.prototype.generateStepActions=function(a,c,d,f,b){this.generateActionsForStep(a,[this.element],c,d,f,b,this.item.scriptSet)};return c}(e.Visual);b.Item=d})(e.Items||(e.Items={}))})(g.Render||(g.Render={}));(function(e){(function(e){var b=function(){function b(f){var d=
this;this.type=f;f.variableTypes.forEach(function(a){d[a.jsonNames[0]]=a.createVariable()})}b.prototype.getVariable=function(f){return this[f]};b.prototype.renderLabel=function(){return this.type.renderLabel(this)};b.prototype.writeCssBuckets=function(f,d,a,c,b){var e=this;this.type.variableTypes.forEach(function(r){r=e[r.jsonNames[0]];r.type.writeCssBuckets(f,d,a,r,c,b)})};return b}();e.Property=b;(function(b){var f=function(){function a(a,d,f,b,e,l){this.label=a;this.jsonNames=d;this.cssName=f;
this.text=b;this.defaultValue=e;this.alwaysInitializeCss=l;void 0===e&&g.Util.logWarning("VariableType<T>",f+" has a default value of undefined.")}a.prototype.createVariable=function(){return new b.Variable(this)};a.prototype.scrubValue=function(a){return a};a.prototype.writeCssBuckets=function(a,d,f,b,e,g){var l=this;if(void 0!==this.cssName){var k=b.getValue(g);void 0!==k&&(g&&k===this.defaultValue&&!this.alwaysInitializeCss||e.forEach(function(b){l.writeCssBucket(a,d,f,b,k)}))}};a.prototype.writeCssBucket=
function(a,d,f,b,e){b[this.cssName]=e};return a}();b.VariableType=f;f=function(a){function c(c,d,f,b,e){a.call(this,c,d,f,"",b,e)}__extends(c,a);c.prototype.scrubValue=function(a){return void 0===a?"":a.toString()};return c}(b.VariableType);b.StringVariableType=f;f=function(a){function c(c,d,f,b,e){a.call(this,c,d,f,b,e)}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){f[this.cssName]=a.canvas.adjustBackgroundImage(b,d)};return c}(b.StringVariableType);b.BackgroundImageVariableType=f;
f=function(a){function c(c,d,f,b,e,g){void 0===g&&(g=!1);a.call(this,c,d,f,"",!1,g);this.falseValue=b;this.trueValue=e}__extends(c,a);c.prototype.scrubValue=function(a){return!!a};c.prototype.writeCssBucket=function(a,c,d,f,b){f[this.cssName]=b?this.trueValue:this.falseValue};return c}(b.VariableType);b.BooleanVariableType=f;f=function(a){function c(c,d,f,b,e,g){a.call(this,c,d,f,b,g);this.enumValues=e}__extends(c,a);c.prototype.scrubValue=function(a){if(void 0===a)return this.defaultValue;a=a.toString().trim().toLocaleLowerCase();
for(var c=0;c<this.enumValues.length;c++)if(a===this.enumValues[c])return a;for(c=0;c<this.enumValues.length;c++)if(0===this.enumValues[c].indexOf(a))return this.enumValues[c];return this.defaultValue};c.prototype.getValueByIndex=function(a){return 0>a||a>=this.enumValues.length?void 0:this.enumValues[a]};return c}(b.StringVariableType);b.EnumVariableType=f;f=function(a){function c(){a.call(this,"bullets",["style"],"listStyleType","none","arabic-indic armenian bengali cambodian circle cjk-ideographic decimal decimal-leading-zero devanagari disc georgian gujarati gurmukhi hebrew hiragana hiragana-iroha kannada katakana katakana-iroha khmer lao lower-alpha lower-armenian lower-greek lower-latin lower-roman malayalam mongolian myanmar oriya persian telugu thai tibetan square upper-alpha upper-latin upper-roman".split(" "),
!1)}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){f[this.cssName]=b;f.display="none"==b?"block":"list-item"};return c}(b.EnumVariableType);b.BulletsVariableType=f;f=function(a){function c(c,d,f,b,e){a.call(this,c,d,f,b,e)}__extends(c,a);c.prototype.scrubValue=function(a){return"boolean"===typeof a?a?"white":this.defaultValue:"number"===typeof a?"hsl("+Math.abs(a%360).toString()+", 50%, 50%)":"string"===typeof a?a:"black"};return c}(b.StringVariableType);b.ColorVariableType=f;f=function(a){function c(c,
d,f,b,e,g,l,k,h){a.call(this,c,d,f,k,g,h);this._minValue=b;this._maxNumber=e;this._decimalPlaces=l}__extends(c,a);c.prototype.scrubValue=function(a){a=g.Util.convertToNumber(a,this.defaultValue);var c=Math.pow(10,this._decimalPlaces);a=Math.round(a*c)/c;return a=Math.max(this._minValue,Math.min(a,this._maxNumber))};return c}(b.VariableType);b.NumberVariableType=f;f=function(a){function c(c,d,f,b,e,g,l,k,h){a.call(this,c,d,f,b,e,g,l,k,h)}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){f[this.cssName]=
b/100*((d.height+d.width)/2)+1;"z"===this.cssName&&(f.zIndex=b+1)};return c}(b.NumberVariableType);b.ContainerDepthPctVariableType=f;f=function(a){function c(c,d,f,b,e,g,l,k,h){a.call(this,c,d,f,b,e,g,l,k,h)}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){a=b/100*d.height;0<b&&1>a&&(a=1);f[this.cssName]=a};return c}(b.NumberVariableType);b.ContainerHeightPctVariableType=f;f=function(a){function c(c,d,f,b,e,g,l,k,h){a.call(this,c,d,f,b,e,g,l,k,h)}__extends(c,a);c.prototype.writeCssBucket=
function(a,c,d,f,b){f[this.cssName]=b/100*d.width};return c}(b.NumberVariableType);b.ContainerWidthPctVariableType=f;var d=h.Motion.Types,f=function(a){function c(){a.call(this,"ease",["ease"],"ease","",d.Eaze.DEFAULT,!1)}__extends(c,a);c.prototype.scrubValue=function(a){if("string"===typeof a)return d.Eaze.getByText(a)};c.prototype.writeCssBucket=function(a,c,d,f,b){f[this.cssName]=b.ease};return c}(b.VariableType);b.EaseVariableType=f;f=function(a){function c(c,d,f,b,e,g,l,k,h,m,n){a.call(this,
c,d,f,b,e,g,l,m,n);this.inverted=h;this.offset=k}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){b+=this.offset;this.inverted&&(b=-b);f[this.cssName]=b};return c}(b.NumberVariableType);b.NumberOffsetVariableType=f;d=h.Motion.Types;f=function(a){function c(c,f){void 0===f&&(f=!1);a.call(this,c?"transform origin":"perspective origin",c?["transformOrigin","origin"]:["perspectiveOrigin","origin"],c?"transformOrigin":"perspectiveOrigin","",new d.Xyz(0,0,0),!1);this.transform=c;this.useContainer=
f}__extends(c,a);c.prototype.scrubValue=function(a){return"boolean"==typeof a?this.defaultValue:"number"==typeof a?new d.Xyz(a):"string"==typeof a?this.scrubArray(a.split(" ")):a instanceof Array?this.scrubArray(a):this.scrubArray([a.x,a.y,a.z])};c.prototype.scrubArray=function(a){var c=new d.Xyz(this.defaultValue.x,this.defaultValue.y,this.defaultValue.z);0<a.length&&(c.x=this.scrubString(a[0]));1<a.length&&(c.y=this.scrubString(a[1]));this.transform&&2<a.length&&(c.z=g.Util.convertToNumber(a[2],
0,!0));return c};c.prototype.scrubString=function(a){a=(a||"").toString().trim().toLocaleLowerCase();return"left"===a?0:"right"===a?100:"top"===a?0:"bottom"===a?100:"center"===a?50:g.Util.convertToNumber(a,0,!0)};c.prototype.writeCssBuckets=function(a,c,d,f,b,e){var g=this;a=f.getValue(e);if(void 0!==a&&(!e||!a.equals(this.defaultValue)||this.alwaysInitializeCss)){var l;l=this.useContainer?Math.round(a.x/100*d.width)+"px "+Math.round(a.y/100*d.height)+"px":Math.round(100*a.x)/100+50+"% "+(Math.round(100*
a.y)/100+50)+"%";this.transform&&(l+=" "+Math.round((d.height+d.width)/2*a.z/100)+"px");b.forEach(function(a){a[g.cssName]=l})}};return c}(b.VariableType);b.OriginVariableType=f;f=function(a){function c(c,d,f,b,e,g,l){a.call(this,c,d,f,b,e,g,0,"%",l)}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){f[this.cssName]=b/100};return c}(b.NumberVariableType);b.PercentVariableType=f;f=function(a){function c(c,d){a.call(this,"shadow",["value"],c,"",[],!1);this.isBoxShadow=d}__extends(c,a);c.prototype.scrubValue=
function(a){if(void 0===a||!(a instanceof Array)||0===a.length)return[];var c=[];a[0]instanceof Array?a.forEach(function(a){c.push(g.Types.Shadow.fromJson(a))}):c.push(g.Types.Shadow.fromJson(a));return c};c.prototype.writeCssBucket=function(a,c,d,f,b){var e=this,g=[];b.forEach(function(a){g.push(a.render(d.width,d.height,e.isBoxShadow))});f[this.cssName]=0===g.length?"none":g.join(", ")};return c}(b.VariableType);b.ShadowVariableType=f;f=function(a){function c(){a.call(this,"align",["align"],"textAlign",
"inherit",["left","center","right","justify"],!1)}__extends(c,a);return c}(b.EnumVariableType);b.TextAlignVariableType=f;f=function(a){function c(){a.call(this,"width",["width"],"width",0,Number.MAX_VALUE,Number.MAX_VALUE,2,"",!1)}__extends(c,a);c.prototype.writeCssBucket=function(a,c,d,f,b){b===Number.MAX_VALUE?f.clearProps="whiteSpace,width":(f.width=b/100*d.width,f.whiteSpace="normal")};return c}(b.NumberVariableType);b.TextWidthVariableType=f})(e.Variables||(e.Variables={}));b=function(){function b(f,
d,a){this.label=f;this.jsonNames=d;this.variableTypes=a}b.prototype.createPropertyFromArray=function(f){g.Util.logWarning("PropertyType.createPropertyFromArray()","Abstract method called");return new e.Property(this)};b.prototype.createPropertyFromNumber=function(f){g.Util.logWarning("PropertyType.createPropertyFromNumber()","Abstract method called");return new e.Property(this)};b.prototype.createPropertyFromString=function(f){g.Util.logWarning("PropertyType.createPropertyFromString()","Abstract method called");
return new e.Property(this)};b.prototype.createPropertyFromBoolean=function(f){var d=new e.Property(this);!1===f&&this.variableTypes.forEach(function(a){d[a.jsonNames[0]].setValue(a.defaultValue)});return d};b.prototype.createPropertyFromObject=function(f){var d=new e.Property(this);if(void 0===f)return d;var a=g.Util.lowercaseProperties(f);this.variableTypes.forEach(function(c){for(var f=0;f<c.jsonNames.length;f++){var b=c.jsonNames[f];if(a.hasOwnProperty(b)){d[c.jsonNames[0]].setValue(a[b]);break}}});
return d};b.prototype.renderLabel=function(f){g.Util.logWarning("PropertyType.renderLabel()","Abstract method called");return"xxx"};b.prototype.countOfValues=function(f){var d=0;this.variableTypes.forEach(function(a){void 0!==f[a.jsonNames[0]].getValue()&&d++});return d};b.prototype.renderVariables=function(f,d,a){var c=[];this.variableTypes.forEach(function(b){b=f[b.jsonNames[0]].render(d,a);void 0!==b&&c.push(b)});var b=c.join(", ");0<b.length&&(b=(d?" ":": ")+b);return this.label+b};return b}();
e.PropertyType=b})(e.Properties||(e.Properties={}));(function(g){var b=function(b){function f(d,a,c,f,e){b.call(this,f);this.itemSet=d;this.itemType=a;this.typeLabel=c;this.scriptSets=e;this.scriptSet=e[0]}__extends(f,b);f.prototype.getScriptSet=function(d){var a=this.scriptSets;if(0>d||d>=a.length)d=0;return a[d]};f.prototype.getCountOfStepsUsed=function(){var d=1;this.scriptSets.forEach(function(a){d=Math.max(d,a.getCountOfStepsUsed())});return d};return f}(e.Model);g.Item=b})(e.Items||(e.Items=
{}))})(g.Models||(g.Models={}));(function(e){(function(e){var b=function(b){function f(d,a){b.call(this,d,a);this.sequencedItem=d}__extends(f,b);f.prototype.moveToSubStep=function(d,a,c){};f.prototype.getCountOfSubSteps=function(){return 0};return f}(e.Item);e.SequencedItem=b})(e.Items||(e.Items={}))})(g.Render||(g.Render={}));(function(e){(function(e){var b=function(){return function(b,f){this.scriptSet=b;this.type=f;this.y=this.x=0}}();e.Script=b;b=function(){function b(f,d,a){this.itemSet=f;this.name=
d;this.itemProperties=a;this.scripts=[]}b.prototype.getCountOfStepsUsed=function(){var b=0;this.scripts.forEach(function(d){1===d.type&&(b=Math.max(b,d.stepIndex))});return b+1};b.prototype.insertStep=function(b){};b.prototype.deleteStep=function(b){var d=this,a=[];this.scripts.forEach(function(c){1===c.type&&c.stepIndex===b&&a.push(c)});a.forEach(function(a){a=d.scripts.indexOf(a);d.scripts.splice(a,1)})};return b}();e.ScriptSet=b})(e.Scripts||(e.Scripts={}))})(g.Models||(g.Models={}));(function(e){(function(e){(function(b){var e=
h.Motion.Models,f=e.Properties,d=e.Scripts,e=function(a){function c(c,b){a.call(this,c,"unknown","Unknown",[new f.PropertyList([],[])],[new d.ScriptSet(c,"unknown",[])]);this.unknownType=b}__extends(c,a);return c}(e.Items.Item);b.Extension=e})(e.unknown||(e.unknown={}))})(e.Items||(e.Items={}))})(g.Extensions||(g.Extensions={}));(function(e){(function(e){(function(b){b.readJson=function(e,f){console.log(f);return new b.Extension(e,f.item)}})(e.unknown||(e.unknown={}))})(e.Items||(e.Items={}))})(g.Extensions||
(g.Extensions={}));(function(e){var g=h.Motion.Util,b=function(){function b(){}b.read=function(f,d){d=d||{};var a=(d.itemType||"text").trim().toLowerCase(),c=e.Items["read_"+a];if(void 0===c){if((a=b.lookupExtension(a))&&a.readJson)return a.readJson(f,d);g.logError("ItemReader.read()","Unknown Item Type ("+d.itemType+")");return h.Motion.Extensions.Items.unknown.readJson(f,d)}return c(f,d)};b.lookupExtension=function(b){for(var d in h.Motion.Extensions.Items){var a=d.toLowerCase();if(b===a)return h.Motion.Extensions.Items[d]}};
return b}();e.ItemReader=b})(g.Serialization||(g.Serialization={}));(function(e){var k=h.Motion.Util,b=function(b){function f(d,a,c,g){var u=this;b.call(this,d,k.createChildDivElement(a.div,"pro motion-page"));this.page=d;this.flowElem=a;this.flowIndex=c;this.pageIndex=g;this.steps=[];this.items=[];f.createItems(this,d.items);d.steps.forEach(function(a,d){var b=[];u.items.forEach(function(a){a instanceof e.Items.SequencedItem&&a.sequencedItem.sequenceOnStepIndex===d&&b.push(a)});u.steps.push(new e.Step(a,
c,g,d,b))})}__extends(f,b);f.createItems=function(d,a){a instanceof Array&&a.forEach(function(a){var b=void 0,b="text"===a.itemType?e.Items.TextItem:"image"===a.itemType?e.Items.ImageItem:"layer"===a.itemType?e.Items.LayerItem:g.Serialization.ItemReader.lookupExtension(a.itemType.toLowerCase()).Renderer;d.items.push(new b(a,d))})};f.prototype.generateStepsActions=function(d,a){var c=this;this.steps.forEach(function(b,f){b.startTime=(void 0===a?0:a.stopTime)+.01;a=b;0<f&&d.addLabel(b.startLabel,b.startTime);
var e=c.flowElem.cameraElem.size,g=c.flowElem.cameraElem.frameElem.canvasElem;g.generateActionsForStep(c,[g.div],e,d,f,b.startLabel,c.page.canvasScriptSet);g=c.flowElem.cameraElem.frameElem;g.generateActionsForStep(c,[g.div],e,d,f,b.startLabel,c.page.frameScriptSet);g=c;g.generateActionsForStep(c,[g.div],e,d,f,b.startLabel,c.page.pageScriptSet);var l=c.flowElem.cameraElem.size.getContainedSize(c.page.flow.pageAspectRatio);c.items.forEach(function(a){a.generateStepActions(c,l,d,f,b.startLabel)});b.stopTime=
d.duration();b.stopTime<b.startTime&&(b.stopTime=b.startTime);d.addLabel(b.stopLabel,b.stopTime);b.time=b.stopTime-b.startTime});return a};return f}(e.Visual);e.Page=b;(function(b){var f=h.Motion.Util,d=function(a){function c(c,d,b){var g=this;a.call(this,d.model,f.createChildDivElement(d.div,"pro motion-flow"));this.flow=c;this.cameraElem=d;this.flowIndex=b;this.pageElems=[];c.pages.forEach(function(a,c){g.pageElems.push(new e.Page(a,g,b,c))})}__extends(c,a);c.prototype.initializePlacement=function(a){this.initializePerspective();
this.initializeFlowPlacement(a);this.initializePages(a)};c.prototype.initializePerspective=function(){var a=this.cameraElem.size;TweenLite.set(this.div,{perspective:(a.width+a.height)/2})};c.prototype.initializeFlowPlacement=function(a){var c={},d=this.flow.placement.position,b=this.cameraElem.frameElem.canvasElem.size;c.xPercent=-50;c.yPercent=-50;c.x=d.x/100*b.width;c.y=d.y/100*b.height;a.set(this.div,c,"initialize")};c.prototype.generateCameraMovement=function(a,c){var d={},b=this.flow.placement.position,
f=this.cameraElem.frameElem.canvasElem.size;d.xPercent=-50;d.yPercent=-50;d.x=b.x/100*-f.width;d.y=b.y/100*-f.height;d.ease=Expo.easeOut;a.to(this.cameraElem.div,1,d,c)};c.prototype.initializePages=function(a){f.logWarning("Render.Flows.Flow.initializePages()","Abstract method called")};c.prototype.generatePageMovement=function(a,c,d){f.logWarning("Render.Flows.Flow.generatePageMovement()","Abstract method called")};c.prototype.generateStepsActions=function(a,c){var d=this;this.pageElems.forEach(function(b,
f){var e=b.steps[0].startLabel;a.addLabel(e,"+=0.01");0===f&&(d.generateCameraMovement(a,e),e="initialize");d.generatePageMovement(a,e,f);c=b.generateStepsActions(a,c)});return c};c.prototype.pageAspectRatio=function(){return this.flow.pageAspectRatio};return c}(e.Visual);b.Flow=d;d=function(a){function c(c,d,b){a.call(this,c,d,b);this.simpleFlow=c}__extends(c,a);c.prototype.initializePages=function(a){var c=this.cameraElem.size.getContainedSize(this.simpleFlow.pageAspectRatio),d=new g.Types.Placement(new g.Types.Xyz,
new g.Types.Xyz,new g.Types.Scale,1);this.pageElems.forEach(function(b,f){d.position.z=-f;d.opacity=0===f?1:0;var e=d.renderCss(c);e.width=c.width;e.height=c.height;a.set(b.div,e,"initialize")})};c.prototype.generatePageMovement=function(a,c,d){var b=this,f=this.cameraElem.size.getContainedSize(this.simpleFlow.pageAspectRatio),e=new g.Types.Placement(new g.Types.Xyz,new g.Types.Xyz,new g.Types.Scale,1);this.pageElems.forEach(function(g,l){e.position.z=d-l;e.opacity=l===d?1:0;var h=e.renderCss(f);
h.width=f.width;h.height=f.height;b.applyCss(a,g.div,c,1,h,Expo.easeOut)})};c.prototype.applyCss=function(a,c,d,b,f,e){"initialize"===d?a.set(c,f,d):(f.ease=e,a.to(c,b,f,d))};return c}(b.Flow);b.SimpleFlow=d})(e.Flows||(e.Flows={}))})(g.Render||(g.Render={}));(function(e){(function(e){(function(b){var e=function(b){function d(a,c,d){b.call(this,a,c,d)}__extends(d,b);return d}(h.Motion.Render.Flows.SimpleFlow);b.Renderer=e})(e.unknown||(e.unknown={}))})(e.Flows||(e.Flows={}))})(g.Extensions||(g.Extensions=
{}));(function(e){(function(e){(function(b){var e=h.Motion.Util;b.readJson=function(f,d){var a=d.setup||{},c=g.Types.Placement.fromJson(a.placement),t=e.convertToNumber(a.pageAspectRatio,f.frame.aspectRatio);return new b.Extension(f,c,a.defaultPageClass,t)}})(e.unknown||(e.unknown={}))})(e.Flows||(e.Flows={}))})(g.Extensions||(g.Extensions={}));(function(e){(function(e){(function(b){var e=function(b){function d(a,c){b.call(this,a,c);this.unknownItem=a;this.divs=[];this.div.innerText=a.unknownType+
"?";this.div.classList.add("unknown")}__extends(d,b);return d}(h.Motion.Render.Items.Item);b.Renderer=e})(e.unknown||(e.unknown={}))})(e.Items||(e.Items={}))})(g.Extensions||(g.Extensions={}));(function(e){(function(b){var e=function(b){function d(a,c){b.call(this,a,c);this.actions=[]}__extends(d,b);d.prototype.removeAction=function(a){a=this.actions.indexOf(a);this.actions.splice(a,1)};return d}(b.Script);b.ActionsScript=e})(e.Scripts||(e.Scripts={}));(function(b){(function(b){b[b.SetProperties=
0]="SetProperties"})(b.ActionType||(b.ActionType={}));(function(b){b.fromString=function(d){d=(d||"properties").toString().trim();if("properties"===d)return 0;g.Util.logError("ActionType.fromString()","Unknown action type: "+d);return 0};b.toString=function(d){return"properties"}})(b.ActionType||(b.ActionType={}));var e=function(){function b(d,a,c){this.script=d;this.actionType=a;this.delay=c;Math.max(0,c)}b.prototype.saveJson=function(){g.Util.logWarning("Action.saveJson()","Abstract method called");
return{}};return b}();b.Action=e;e=function(b){function d(a,c,d){b.call(this,a,0,c);this.properties=d}__extends(d,b);return d}(b.Action);b.SetPropertiesAction=e})(e.Actions||(e.Actions={}));(function(b){var e=function(b){function d(a,c,d,e,g,q){b.call(this,a,c,d,g,e);this.defaultPageClassIfNotGiven=q}__extends(d,b);d.prototype.getDefaultPageClassName=function(){return this.defaultPageClass||this.defaultPageClassIfNotGiven};d.prototype.getDefaultPageClassValue=function(){return{background:"#FFF",corners:{topLeft:2,
bottomRight:2,bottomLeft:2,topRight:2},shadow:[0,0,1.5,"rgba(0,0,0,0.5)",.1]}};return d}(b.Flow);b.PlacementFlow=e})(e.Flows||(e.Flows={}));(function(b){var e=function(f){function d(){var a=[];a.push(new b.Variables.NumberOffsetVariableType("x",["x"],"xPercent",Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,0,2,50,!0,"%",!0));a.push(new b.Variables.NumberOffsetVariableType("y",["y"],"yPercent",Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,0,2,50,!0,"%",!0));f.call(this,"anchor",["anchor"],
a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c.x.setValue(-50);return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.x.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);a=a.split(",");c.x.setValue(this.parseString(a[0]));1<a.length&&c.y.setValue(this.parseString(a[1]));return c};d.prototype.parseString=
function(a){a=a.trim().toLowerCase();return"left"===a?-50:"center"===a?0:"right"===a?50:"top"===a?-50:"middle"===a?0:"bottom"===a?50:"l"===a?-50:"c"===a?0:"r"===a?50:"t"===a?-50:"m"===a?0:"b"===a?50:g.Util.convertToNumber(a,0,!0)};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.x.setValue(g.Util.convertToNumber(a[0],0,!0));1<a.length&&c.y.setValue(g.Util.convertToNumber(a[1],0,!0));return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,
!1,!0)};return d}(b.PropertyType);b.AnchorPropertyType=e;e=function(f){function d(a){a=[];a.push(new b.Variables.NumberVariableType("duration",["duration","dur"],void 0,0,Number.POSITIVE_INFINITY,0,2," secs",!1));a.push(new b.Variables.EaseVariableType);a.push(new b.Variables.NumberVariableType("repeat",["repeat","rep"],"repeat",0,Number.POSITIVE_INFINITY,0,0," times",!1));a.push(new b.Variables.NumberVariableType("repeat delay",["repeatdelay","delay"],"repeatDelay",0,Number.POSITIVE_INFINITY,0,0,
" secs",!1));a.push(new b.Variables.BooleanVariableType("yoyo",["yoyo"],"yoyo",!1,!0));a.push(new b.Variables.NumberVariableType("stagger",["stagger","stag"],void 0,0,Number.POSITIVE_INFINITY,0,2," secs",!1));f.call(this,"animation",["animation","anim"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=new b.Property(this);a&&c.duration.setValue(1);return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.duration.setValue(a);return c};d.prototype.createPropertyFromString=
function(a){var c=new b.Property(this);c.duration.setValue(1);c.ease.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this);0<a.length&&c.duration.setValue(null===a[0]?void 0:a[0]);1<a.length&&c.ease.setValue(null===a[1]?void 0:a[1]);2<a.length&&c.repeat.setValue(null===a[2]?void 0:a[2]);3<a.length&&c.repeatdelay.setValue(null===a[3]?void 0:a[3]);4<a.length&&c.yoyo.setValue(null===a[4]?void 0:a[4]);5<a.length&&c.stagger.setValue(null===a[5]?void 0:a[5]);return c};
d.prototype.renderLabel=function(a){var c=1===this.countOfValues(a);return this.renderVariables(a,!0,c)};return d}(b.PropertyType);b.AnimationPropertyType=e;e=function(f){function d(a){void 0===a&&(a="transparent");var c=[];c.push(new b.Variables.ColorVariableType("color",["color"],"backgroundColor",a,"transparent"!==a));c.push(new b.Variables.BackgroundImageVariableType("image",["image"],"backgroundImage","none",!1));c.push(new b.Variables.StringVariableType("repeat",["repeat","rep"],"backgroundRepeat",
"repeat",!1));c.push(new b.Variables.StringVariableType("position",["position","pos"],"backgroundPosition","0% 0%",!1));c.push(new b.Variables.StringVariableType("size",["size"],"backgroundSize","auto",!1));f.call(this,"background",["background","back","bg"],c)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c.color.setValue("#F7F7F7");return c};d.prototype.createPropertyFromNumber=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,
!1);c.color.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.trim();if(0===a.length||"none"===a)return f.prototype.createPropertyFromBoolean.call(this,!1);var c;0===a.toLowerCase().indexOf("url(")?(c=new b.Property(this),c.image.setValue(a)):(c=f.prototype.createPropertyFromBoolean.call(this,!1),c.color.setValue(a));return c};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.color.setValue(null===a[0]?
void 0:a[0]);1<a.length&&c.image.setValue(null===a[1]?void 0:a[1]);2<a.length&&c.repeat.setValue(null===a[2]?void 0:a[2]);3<a.length&&c.position.setValue(null===a[3]?void 0:a[3]);4<a.length&&c.size.setValue(null===a[4]?void 0:a[4]);return c};d.prototype.renderLabel=function(a){var c=[];void 0!==a.color.getValue()&&c.push("color");return 0===c.length?this.label:this.label+": "+c.join(", ")};return d}(b.PropertyType);b.BackgroundPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.StringVariableType("style",
["style"],"borderStyle","none",!1));a.push(new b.Variables.ContainerHeightPctVariableType("size",["size"],"borderWidth",0,100,0,2,"%",!1));a.push(new b.Variables.ColorVariableType("color",["color"],"borderColor","transparent",!1));f.call(this,"border",["border"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&(c.style.setValue("solid"),c.size.setValue(.5),c.color.setValue("black"));return c};d.prototype.createPropertyFromNumber=
function(a){var c=this.createPropertyFromBoolean(!0);c.size.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=this.createPropertyFromBoolean(!0);c.color.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&(c.size.setValue(null===a[0]?void 0:a[0]),c.color.setValue("black"),c.style.setValue("solid"));1<a.length&&c.color.setValue(null===a[1]?void 0:a[1]);2<a.length&&c.style.setValue(null===
a[2]?void 0:a[2]);return c};d.prototype.renderLabel=function(a){var c=[],d=a.style.getValue(),b=a.size.getValue();a=a.color.getValue();void 0!==d&&c.push(d);void 0!==b&&c.push(b.toString()+"px");void 0!==a&&c.push("color");return 0===c.length?this.label:this.label+": "+c.join(" ")};return d}(b.PropertyType);b.BorderPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.BulletsVariableType);f.call(this,"bullets",["bullets"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=
function(a){var c=f.prototype.createPropertyFromBoolean.call(this,a);a&&c.style.setValue("disc");return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this),d=c.style;a=d.type.getValueByIndex(a-1);d.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c.style.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this),d=this.variableTypes[0].defaultValue;0<a.length&&(d=a[0]);c.style.setValue(d);
return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return d}(b.PropertyType);b.BulletsPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.StringVariableType("name",["name"],void 0,"",!1));f.call(this,"class",["class"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return f.prototype.createPropertyFromBoolean.call(this,!1)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.name.setValue(a.toString());
return c};d.prototype.createPropertyFromString=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);c.name.setValue(a.trim());return c};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.name.setValue(a[0].toString());return c};return d}(b.PropertyType);b.ClassPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.ColorVariableType("color",["color"],"color","black",!1));f.call(this,"color",["textcolor",
"color"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c.color.setValue("white");return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.color.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c.color.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this);0<a.length&&c.color.setValue(null===
a[0]?void 0:a[0]);return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return d}(b.PropertyType);b.ColorPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.ContainerHeightPctVariableType("tl",["topleft","tl"],"borderTopLeftRadius",0,100,0,2,"",!1));a.push(new b.Variables.ContainerHeightPctVariableType("tr",["topright","tr"],"borderTopRightRadius",0,100,0,2,"",!1));a.push(new b.Variables.ContainerHeightPctVariableType("bl",["bottomleft","bl"],"borderBottomLeftRadius",
0,100,0,2,"",!1));a.push(new b.Variables.ContainerHeightPctVariableType("br",["bottomright","br"],"borderBottomRightRadius",0,100,0,2,"",!1));f.call(this,"corners",["corners"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return!1===a?f.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(3)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.topleft.setValue(a);c.topright.setValue(a);c.bottomleft.setValue(a);c.bottomright.setValue(a);
return c};d.prototype.createPropertyFromString=function(a){a=a.split(",");for(var c=0;c<a.length;c++)a[c]=a[c].trim();return this.createPropertyFromArray(a)};d.prototype.createPropertyFromArray=function(a){var c=0<a.length&&void 0!==a[0]?g.Util.convertToNumber(a[0]):void 0,d=1<a.length&&void 0!==a[1]?g.Util.convertToNumber(a[1]):c,f=2<a.length&&void 0!==a[2]?g.Util.convertToNumber(a[2]):c;a=3<a.length&&void 0!==a[3]?g.Util.convertToNumber(a[3]):d;var e=new b.Property(this);e.topleft.setValue(c);e.topright.setValue(d);
e.bottomright.setValue(f);e.bottomleft.setValue(a);return e};d.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return d}(b.PropertyType);b.CornersPropertyType=e;e=function(f){function d(a){void 0===a&&(a=!1);var c=[];c.push(new b.Variables.BooleanVariableType("crop",["crop"],"overflow","visible","hidden",a));f.call(this,"crop",["crop"],c)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=new b.Property(this);c.crop.setValue(a);return c};d.prototype.createPropertyFromNumber=
function(a){var c=new b.Property(this);c.crop.setValue(!!a);return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);a=a.trim().toLocaleLowerCase();c.crop.setValue(0<a.length&&"false"!==a&&"0"!==a);return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this),d=!1;0<a.length&&(a=a[0],d=""!==a&&"false"!==a&&"0"!==a&&!!a);c.crop.setValue(d);return c};d.prototype.renderLabel=function(a){var c=1===this.countOfValues(a);return this.renderVariables(a,
!0,c)};return d}(b.PropertyType);b.CropPropertyType=e;e=function(f){function d(a){void 0===a&&(a=!1);var c=[];c.push(new b.Variables.StringVariableType("name",["family","face"],"font-family","Arial, Helvetica, sans-serif",!1));c.push(new b.Variables.ContainerHeightPctVariableType("size",["size"],"fontSize",0,Number.MAX_VALUE,12,1," pixels",a));c.push(new b.Variables.PercentVariableType("line height",["lineheight","lh"],"lineHeight",0,Number.MAX_VALUE,120,!0));f.call(this,"font",["font"],c)}__extends(d,
f);d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.size.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c.family.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.family.setValue(null===a[0]?void 0:a[0]);1<a.length&&c.size.setValue(null===a[1]?void 0:a[1]);2<a.length&&c.lineheight.setValue(null===a[2]?void 0:a[2]);return c};d.prototype.renderLabel=
function(a){var c=1===this.countOfValues(a);return this.renderVariables(a,!0,c)};return d}(b.PropertyType);b.FontPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.NumberVariableType("item",["item"],void 0,0,Number.POSITIVE_INFINITY,0,0,"",!1));f.call(this,"move to",["moveto","move"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=new b.Property(this);c.item.setValue(a?1:0);return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);
c.item.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c.item.setValue(g.Util.convertToNumber(a));return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this);0<a.length&&c.item.setValue(null===a[0]?void 0:g.Util.convertToNumber(a[0]));return c};return d}(b.PropertyType);b.MoveToPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.PercentVariableType("percent",["percent","pct"],"autoAlpha",0,100,100,!1));
f.call(this,"opacity",["opacity","opac"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c.percent.setValue(100);return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.percent.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);c.percent.setValue(g.Util.convertToNumber(a,100));return c};d.prototype.createPropertyFromArray=
function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.percent.setValue(g.Util.convertToNumber(a[0],100));return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return d}(b.PropertyType);b.OpacityPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.ContainerWidthPctVariableType("left",["left","l"],"paddingLeft",0,50,0,2,"%",!1));a.push(new b.Variables.ContainerHeightPctVariableType("top",["top","t"],"paddingTop",0,50,0,
2,"%",!1));a.push(new b.Variables.ContainerWidthPctVariableType("right",["right","r"],"paddingRight",0,50,0,2,"%",!1));a.push(new b.Variables.ContainerHeightPctVariableType("bottom",["bottom","b"],"paddingBottom",0,50,0,2,"%",!1));f.call(this,"padding",["padding","pad"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return!1===a?f.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(2)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);
c.left.setValue(a);c.top.setValue(a);c.right.setValue(a);c.bottom.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.split(",");for(var c=0;c<a.length;c++)a[c]=a[c].trim();return this.createPropertyFromArray(a)};d.prototype.createPropertyFromArray=function(a){var c=0<a.length&&void 0!==a[0]?g.Util.convertToNumber(a[0]):void 0,d=1<a.length&&void 0!==a[1]?g.Util.convertToNumber(a[1]):c,f=2<a.length&&void 0!==a[2]?g.Util.convertToNumber(a[2]):c;a=3<a.length&&void 0!==a[3]?g.Util.convertToNumber(a[3]):
d;var e=new b.Property(this);e.left.setValue(a);e.top.setValue(c);e.right.setValue(d);e.bottom.setValue(f);return e};d.prototype.renderLabel=function(a){var c=a.all.getValue(),d=a.left.getValue()||c,b=a.top.getValue()||c,f=a.right.getValue()||c;a=a.bottom.getValue()||c;return void 0===d&&void 0===b&&void 0===f&&void 0===a?this.label:d===b&&b===f&&f===a&&a===d?this.label+": "+d.toString()+"%":void 0===d||void 0===b||void 0===f||void 0===a?this.label+": "+(void 0===d?"":"left "+d.toString()+"% ")+(void 0===
b?"":"top "+b.toString()+"% ")+(void 0===f?"":"right "+f.toString()+"% ")+(void 0===a?"":"bottom "+a.toString()+"% "):this.label+": "+d.toString()+"% "+b.toString()+"% "+f.toString()+"% "+a.toString()+"%"};return d}(b.PropertyType);b.PaddingPropertyType=e;e=function(f){function d(){var a=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,d=[];d.push(new b.Variables.ContainerWidthPctVariableType("X",["x"],"x",a,c,0,2," pixels",!0));d.push(new b.Variables.ContainerHeightPctVariableType("Y",["y"],"y",
a,c,0,2," pixels",!0));d.push(new b.Variables.ContainerDepthPctVariableType("Z",["z"],"z",a,c,0,2," pixels",!0));f.call(this,"position",["position","pos"],d)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return f.prototype.createPropertyFromBoolean.call(this,!1)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.x.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.split(",");for(var c=0;c<a.length;c++)a[c]=a[c].trim();return this.createPropertyFromArray(a)};
d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.x.setValue(g.Util.convertToNumber(a[0]));1<a.length&&c.y.setValue(g.Util.convertToNumber(a[1]));2<a.length&&c.z.setValue(g.Util.convertToNumber(a[2]));return c};d.prototype.renderLabel=function(a){var c=this.countOfValues(a),d=1===c,b=1===c;2===c&&void 0!==a.z.getValue()&&(d=!0);return this.renderVariables(a,d,b)};return d}(b.PropertyType);b.PositionPropertyType=e;e=function(f){function d(){var a=
[],c=String.fromCharCode(176);a.push(new b.Variables.NumberVariableType("X",["x"],"rotationX",-36E3,36E3,0,2,c,!1));a.push(new b.Variables.NumberVariableType("Y",["y"],"rotationY",-36E3,36E3,0,2,c,!1));a.push(new b.Variables.NumberVariableType("Z",["z"],"rotationZ",-36E3,36E3,0,2,c,!0));f.call(this,"rotation",["rotation","rotate","rot"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c.z.setValue(360);return c};
d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.z.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.split(",");for(var c=0;c<a.length;c++)a[c]=a[c].trim();return this.createPropertyFromArray(a)};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.x.setValue(g.Util.convertToNumber(a[0]));1<a.length&&c.y.setValue(g.Util.convertToNumber(a[1]));2<a.length&&c.z.setValue(g.Util.convertToNumber(a[2]));
return c};d.prototype.renderLabel=function(a){var c=this.countOfValues(a),d=3>c;1===c&&void 0!==a.z.getValue()&&(d=!1);return this.renderVariables(a,d,!0)};return d}(b.PropertyType);b.RotationPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.PercentVariableType("X",["x"],"scaleX",0,1E3,100,!1));a.push(new b.Variables.PercentVariableType("Y",["y"],"scaleY",0,1E3,100,!1));f.call(this,"scale",["scale"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return!1===
a?f.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(200)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.x.setValue(a);c.y.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.split(",");for(var c=0;c<a.length;c++)a[c]=a[c].trim();return this.createPropertyFromArray(a)};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.x.setValue(g.Util.convertToNumber(a[0]));
1<a.length&&c.y.setValue(g.Util.convertToNumber(a[1]));return c};d.prototype.renderLabel=function(a){var c=this.countOfValues(a),d=1===c;if(1<c){var c=a.x.getValue(),b=a.y.getValue();if(c===b)return this.label+": "+c.toString()+"%"}return this.renderVariables(a,d,!0)};return d}(b.PropertyType);b.ScalePropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.ContainerWidthPctVariableType("Width",["width","w"],"width",0,Number.POSITIVE_INFINITY,0,2,"",!1));a.push(new b.Variables.ContainerHeightPctVariableType("Height",
["height","h"],"height",0,Number.POSITIVE_INFINITY,0,2,"",!1));f.call(this,"size",["size"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return!1===a?f.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(100)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.width.setValue(a);c.height.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.split(",");for(var c=0;c<a.length;c++)a[c]=a[c].trim();return this.createPropertyFromArray(a)};
d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.width.setValue(g.Util.convertToNumber(a[0]));1<a.length&&c.height.setValue(g.Util.convertToNumber(a[1]));return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return d}(b.PropertyType);b.SizePropertyType=e;e=function(f){function d(){var a=[],c=String.fromCharCode(176);a.push(new b.Variables.NumberVariableType("X",["degrees","deg"],"skewX",Number.NEGATIVE_INFINITY,
Number.POSITIVE_INFINITY,0,2,c,!1));f.call(this,"skew",["skew"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){return!1===a?f.prototype.createPropertyFromBoolean.call(this,!1):this.createPropertyFromNumber(-30)};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.degrees.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);c.degrees.setValue(g.Util.convertToNumber(a));return c};
d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.degrees.setValue(null===a[0]?void 0:g.Util.convertToNumber(a[0]));return c};d.prototype.renderLabel=function(a){this.countOfValues(a);return this.renderVariables(a,!0,!0)};return d}(b.PropertyType);b.SkewPropertyType=e;e=function(f){function d(a,c,d){void 0===a&&(a="shadow");void 0===c&&(c=["shadow","shadows"]);void 0===d&&(d="boxShadow");var e=[];e.push(new b.Variables.ShadowVariableType(d,
"boxShadow"===d));f.call(this,a,c,e)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c[this.variableTypes[0].jsonNames[0]].setValue([.5,.5,2]);return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c[this.variableTypes[0].jsonNames[0]].setValue([a,a,2]);return c};d.prototype.parseString=function(a){var c=[],d=[],b=0;a.split(",").forEach(function(a){0<b?c[c.length-1]+=","+a:c.push(a);-1<
a.indexOf("(")&&b++;-1<a.indexOf(")")&&b--});c.forEach(function(a,c){a=a.trim().toLowerCase();3===c?d.push(isNaN(a)?a:Number(a)):5===c?d.push("1"===a||"true"===a):d.push(g.Util.convertToNumber(a))});return d};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c[this.variableTypes[0].jsonNames[0]].setValue(this.parseString(a));return c};d.prototype.createPropertyFromArray=function(a){var c=this,d=new b.Property(this);if(0===a.length)return d;if(a[0]instanceof Array||"number"===
typeof a[0])d[this.variableTypes[0].jsonNames[0]].setValue(a);else{var f=[];a.forEach(function(d){"string"===typeof d?f.push(c.parseString(d)):"object"===typeof a[0]&&f.push(c.parseObject(d))});d[this.variableTypes[0].jsonNames[0]].setValue(f)}return d};d.prototype.parseObject=function(a){return[a.x,a.y,a.blur,a.color,a.spread,a.inset]};d.prototype.createPropertyFromObject=function(a){var c=new b.Property(this);if(void 0===a)return c;c[this.variableTypes[0].jsonNames[0]].setValue(this.parseObject(a));
return c};d.prototype.renderLabel=function(a){return this.label};return d}(b.PropertyType);b.ShadowPropertyType=e;e=function(f){function d(a){void 0===a&&(a="transparent");var c=[];c.push(new b.Variables.ColorVariableType("color",["color"],"fill",a,"transparent"!==a));f.call(this,"fill",["fill"],c)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&c.color.setValue("#F7F7F7");return c};d.prototype.createPropertyFromNumber=
function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);c.color.setValue(a);return c};d.prototype.createPropertyFromString=function(a){a=a.trim();if(0===a.length||"none"===a)return f.prototype.createPropertyFromBoolean.call(this,!1);var c;c=f.prototype.createPropertyFromBoolean.call(this,!1);c.color.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);0<a.length&&c.color.setValue(null===a[0]?void 0:a[0]);return c};
return d}(b.PropertyType);b.SvgFillPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.TextAlignVariableType);f.call(this,"textAlign",["textalign","align"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,a);a&&c.align.setValue("justify");return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);0===a&&c.align.setValue("inherit");1===a&&c.align.setValue("left");2===a&&c.align.setValue("center");
3===a&&c.align.setValue("right");4===a&&c.align.setValue("justify");return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c.align.setValue(a);return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this),d=this.variableTypes[0].defaultValue;0<a.length&&(d=a[0]);c.align.setValue(d);return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return d}(b.PropertyType);b.TextAlignPropertyType=e;e=function(b){function d(){b.call(this,
"text shadow",["textshadow","textshadows"],"textShadow")}__extends(d,b);return d}(b.ShadowPropertyType);b.TextShadowPropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.BooleanVariableType("bold",["bold"],"font-weight","normal","bold"));a.push(new b.Variables.BooleanVariableType("italic",["italic"],"font-style","normal","italic"));a.push(new b.Variables.StringVariableType("line",["line","lines"],"text-decoration","none",!1));a.push(new b.Variables.BooleanVariableType("smallCaps",
["smallcaps","caps"],"font-variant","normal","small-caps"));f.call(this,"style",["textstyle","textstyles","styles","style"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1);!0===a&&(c.bold.setValue(!0),c.italic.setValue(!0));return c};d.prototype.createPropertyFromNumber=function(a){var c=new b.Property(this);c.bold.setValue(0<(a&1));c.italic.setValue(0<(a&2));c.smallcaps.setValue(0<(a&4));var d=[];0<(a&8)&&d.push("underline");
0<(a&16)&&d.push("line-through");0<(a&32)&&d.push("overline");0===d.length&&d.push("none");c.line.setValue(d.join(" "));return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);a=a.toLocaleLowerCase();c.bold.setValue(-1<a.indexOf("bold"));c.italic.setValue(-1<a.indexOf("italic"));c.smallcaps.setValue(-1<a.indexOf("caps"));var d=[];-1<a.indexOf("under")&&d.push("underline");-1<a.indexOf("through")&&d.push("line-through");-1<a.indexOf("over")&&d.push("overline");0===d.length&&
d.push("none");c.line.setValue(d.join(" "));return c};d.prototype.createPropertyFromArray=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,!1),d=[];a.forEach(function(a){a=(a||"").toString().trim().toLocaleLowerCase();0===a.indexOf("b")&&c.bold.setValue(!0);0===a.indexOf("i")&&c.italic.setValue(!0);0===a.indexOf("c")&&c.smallCaps.setValue(!0);0===a.indexOf("u")&&d.push("underline");0===a.indexOf("t")&&d.push("line-through");0===a.indexOf("o")&&d.push("overline")});0===d.length&&d.push("none");
c.line.setValue(d.join(" "));return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return d}(b.PropertyType);b.TextStylePropertyType=e;e=function(f){function d(){var a=[];a.push(new b.Variables.TextWidthVariableType);f.call(this,"width",["textwidth","width"],a)}__extends(d,f);d.prototype.createPropertyFromBoolean=function(a){var c=f.prototype.createPropertyFromBoolean.call(this,a);a&&c.width.setValue(100);return c};d.prototype.createPropertyFromNumber=function(a){var c=
new b.Property(this);c.width.setValue(a);return c};d.prototype.createPropertyFromString=function(a){var c=new b.Property(this);c.width.setValue(g.Util.convertToNumber(a,this.variableTypes[0].defaultValue));return c};d.prototype.createPropertyFromArray=function(a){var c=new b.Property(this),d=this.variableTypes[0].defaultValue;0<a.length&&(d=g.Util.convertToNumber(a[0],d));c.width.setValue(d);return c};d.prototype.renderLabel=function(a){return this.renderVariables(a,!0,!0)};return d}(b.PropertyType);
b.TextWidthPropertyType=e;e=function(f){function d(a){var c=[];c.push(new b.Variables.OriginVariableType(!0,a));f.call(this,"transformOrigin",["transformorigin","origin"],c)}__extends(d,f);d.prototype.createProperty=function(a){var c=new b.Property(this);c.transformOrigin.setValue(a);return c};d.prototype.createPropertyFromBoolean=function(a){return this.createProperty(a)};d.prototype.createPropertyFromNumber=function(a){return this.createProperty(a)};d.prototype.createPropertyFromString=function(a){return this.createProperty(a)};
d.prototype.createPropertyFromArray=function(a){return this.createProperty(a)};d.prototype.renderLabel=function(a){return this.renderVariables(a,!1,!0)};return d}(b.PropertyType);b.TransformOriginPropertyType=e;e=function(){function f(){}f.ANCHOR=new b.AnchorPropertyType;f.ANIMATION=new b.AnimationPropertyType;f.BACKGROUND=new b.BackgroundPropertyType;f.BORDER=new b.BorderPropertyType;f.BULLET=new b.BulletsPropertyType;f.CLASS=new b.ClassPropertyType;f.CORNERS=new b.CornersPropertyType;f.CROP=new b.CropPropertyType;
f.CROP_SVG=new b.CropPropertyType(!0);f.FILL_SVG=new b.SvgFillPropertyType;f.FONT=new b.FontPropertyType;f.MOVE_TO=new b.MoveToPropertyType;f.OPACITY=new b.OpacityPropertyType;f.PADDING=new b.PaddingPropertyType;f.POSITION=new b.PositionPropertyType;f.ROTATION=new b.RotationPropertyType;f.SCALE=new b.ScalePropertyType;f.SIZE=new b.SizePropertyType;f.SKEW=new b.SkewPropertyType;f.SHADOW=new b.ShadowPropertyType;f.TEXT_ALIGN=new b.TextAlignPropertyType;f.TEXT_COLOR=new b.ColorPropertyType;f.TEXT_SHADOW=
new b.TextShadowPropertyType;f.TEXT_STYLE=new b.TextStylePropertyType;f.TEXT_WIDTH=new b.TextWidthPropertyType;f.TRANSFORM_ORIGIN=new b.TransformOriginPropertyType(!1);f.TRANSFORM_ORIGIN_CONTAINER=new b.TransformOriginPropertyType(!0);return f}();b.Cache=e})(e.Properties||(e.Properties={}));(function(b){var e=function(b){function d(a,c,d,e,g,q){b.call(this,a,"image","Image",[g],[q]);this.src=c;this.width=d;this.height=e}__extends(d,b);return d}(b.Item);b.ImageItem=e;e=function(b){function d(a,c,d){b.call(this,
a,"layer","Layer",[c],[d]);this.items=[];this.flow=a.flow;this.story=a.flow.story}__extends(d,b);return d}(b.Item);b.LayerItem=e;e=function(b){function d(a,c,d,e,g,q){b.call(this,a,c,d,[g],[q]);this.sequenceOnStepIndex=e}__extends(d,b);return d}(b.Item);b.SequencedItem=e;e=function(b){function d(a,c,d,e,g,q,h,k,l,m,n,p,w){b.call(this,a,"text","Text",[q,k,m,p],[h,l,n,w]);this.text=c;this.stackedLines=d;this.stackedWords=e;this.stackedChars=g;this.linesInit=k;this.linesScriptSet=l;this.wordsInit=m;
this.wordsScriptSet=n;this.charsInit=p;this.charsScriptSet=w}__extends(d,b);return d}(b.Item);b.TextItem=e})(e.Items||(e.Items={}));(function(b){(function(e){var d=function(){function a(){}a.getPropertyTypes=function(){if(void 0===a._propertyTypes){var c=[];c.push(b.Cache.ANIMATION);c.push(b.Cache.BACKGROUND);c.push(b.Cache.BORDER);c.push(b.Cache.CORNERS);c.push(b.Cache.CROP);c.push(b.Cache.FONT);c.push(b.Cache.OPACITY);c.push(b.Cache.SHADOW);c.push(b.Cache.TEXT_COLOR);a._propertyTypes=c}return a._propertyTypes};
a._propertyTypes=void 0;return a}();e.Canvas=d;d=function(){function a(){}a.getPropertyTypes=function(){if(void 0===a._propertyTypes){var c=[];c.push(b.Cache.ANIMATION);c.push(b.Cache.BACKGROUND);c.push(b.Cache.BORDER);c.push(b.Cache.CORNERS);c.push(b.Cache.CROP);c.push(b.Cache.OPACITY);c.push(b.Cache.SCALE);c.push(b.Cache.SHADOW);a._propertyTypes=c}return a._propertyTypes};a._propertyTypes=void 0;return a}();e.Frame=d;d=function(){function a(){}a.getPropertyTypes=function(){if(void 0===a._propertyTypes){var c=
[];c.push(b.Cache.ANCHOR);c.push(b.Cache.ANIMATION);c.push(b.Cache.CLASS);c.push(b.Cache.CORNERS);c.push(b.Cache.OPACITY);c.push(b.Cache.POSITION);c.push(b.Cache.ROTATION);c.push(b.Cache.SCALE);c.push(b.Cache.SHADOW);c.push(b.Cache.SKEW);c.push(b.Cache.TRANSFORM_ORIGIN);a._propertyTypes=c}return a._propertyTypes};a._propertyTypes=void 0;return a}();e.ImageItem=d;d=function(){function a(){}a.getPropertyTypes=function(){if(void 0===a._propertyTypes){var c=[];c.push(b.Cache.ANCHOR);c.push(b.Cache.ANIMATION);
c.push(b.Cache.BACKGROUND);c.push(b.Cache.BORDER);c.push(b.Cache.CLASS);c.push(b.Cache.CORNERS);c.push(b.Cache.CROP);c.push(b.Cache.MOVE_TO);c.push(b.Cache.OPACITY);c.push(b.Cache.POSITION);c.push(b.Cache.ROTATION);c.push(b.Cache.SCALE);c.push(b.Cache.SHADOW);c.push(b.Cache.SIZE);c.push(b.Cache.SKEW);c.push(b.Cache.TRANSFORM_ORIGIN);a._propertyTypes=c}return a._propertyTypes};a._propertyTypes=void 0;return a}();e.LayerItem=d;d=function(){function a(){}a.getPropertyTypes=function(){if(void 0===a._propertyTypes){var c=
[];c.push(b.Cache.ANIMATION);c.push(b.Cache.BACKGROUND);c.push(b.Cache.BORDER);c.push(b.Cache.CORNERS);c.push(b.Cache.CROP);c.push(b.Cache.FONT);c.push(b.Cache.OPACITY);c.push(new b.FontPropertyType(!0));c.push(b.Cache.SHADOW);c.push(b.Cache.TEXT_COLOR);c.push(b.Cache.TEXT_SHADOW);a._propertyTypes=c}return a._propertyTypes};a._propertyTypes=void 0;return a}();e.Page=d;d=function(){function a(){}a.cacheProperties=function(){a._propertyTypes=[];a._linePropertyTypes=[];a._wordPropertyTypes=[];a._charPropertyTypes=
[];var c=[a._propertyTypes],d=[a._linePropertyTypes],e=[a._propertyTypes,a._linePropertyTypes,a._wordPropertyTypes,a._charPropertyTypes],f=[a._linePropertyTypes,a._wordPropertyTypes,a._charPropertyTypes];a.addPropertyType(c,b.Cache.ANCHOR);a.addPropertyType(e,b.Cache.ANIMATION);a.addPropertyType(e,b.Cache.BACKGROUND);a.addPropertyType(e,b.Cache.BORDER);a.addPropertyType(d,b.Cache.BULLET);a.addPropertyType(e,b.Cache.CLASS);a.addPropertyType(e,b.Cache.CORNERS);a.addPropertyType(c,b.Cache.CROP);a.addPropertyType(c,
b.Cache.FONT);a.addPropertyType(e,b.Cache.OPACITY);a.addPropertyType(e,b.Cache.PADDING);a.addPropertyType(e,b.Cache.POSITION);a.addPropertyType(e,b.Cache.ROTATION);a.addPropertyType(e,b.Cache.SCALE);a.addPropertyType(e,b.Cache.SHADOW);a.addPropertyType(e,b.Cache.SKEW);a.addPropertyType(c,b.Cache.TEXT_ALIGN);a.addPropertyType(e,b.Cache.TEXT_COLOR);a.addPropertyType(e,b.Cache.TEXT_SHADOW);a.addPropertyType(e,b.Cache.TEXT_STYLE);a.addPropertyType(c,b.Cache.TEXT_WIDTH);a.addPropertyType(c,b.Cache.TRANSFORM_ORIGIN);
a.addPropertyType(f,b.Cache.TRANSFORM_ORIGIN_CONTAINER)};a.addPropertyType=function(a,d){a.forEach(function(a){a.push(d)})};a.getPropertyTypes=function(){void 0===a._propertyTypes&&a.cacheProperties();return a._propertyTypes};a.getLinePropertyTypes=function(){void 0===a._linePropertyTypes&&a.cacheProperties();return a._linePropertyTypes};a.getWordPropertyTypes=function(){void 0===a._wordPropertyTypes&&a.cacheProperties();return a._wordPropertyTypes};a.getCharPropertyTypes=function(){void 0===a._charPropertyTypes&&
a.cacheProperties();return a._charPropertyTypes};a._propertyTypes=void 0;a._linePropertyTypes=void 0;a._wordPropertyTypes=void 0;a._charPropertyTypes=void 0;return a}();e.TextItem=d})(b.PerElement||(b.PerElement={}));(function(b){b[b.All=0]="All";b[b.Odd=1]="Odd";b[b.Even=2]="Even";b[b.Thirds1=3]="Thirds1";b[b.Thirds2=4]="Thirds2";b[b.Thirds3=5]="Thirds3"})(b.StaggerTargets||(b.StaggerTargets={}));(function(b){b[b.Forward=0]="Forward";b[b.Reverse=1]="Reverse";b[b.Random=2]="Random"})(b.StaggerOrder||
(b.StaggerOrder={}));var e=function(){function b(d,a,c){void 0===d&&(d=b.defaultDelay);void 0===a&&(a=b.defaultTargets);void 0===c&&(c=b.defaultOrder);this.delay=d;this.targets=a;this.order=c;this.delay=Math.round(10*d)/10}b.prototype.isDefault=function(){return this.delay!==b.defaultDelay||this.targets!==b.defaultTargets||this.order!==b.defaultOrder?!1:!0};b.defaultDelay=0;b.defaultTargets=0;b.defaultOrder=0;return b}();b.Stagger=e;(function(b){var d=function(){function a(a){this.type=a}a.prototype.getValue=
function(a){void 0===a&&(a=!1);return a?void 0!==this._value?this._value:void 0!==this.defaultValueOverride?this.defaultValueOverride:this.type.defaultValue:this._value};a.prototype.setValue=function(a){this._value=void 0===a?void 0:this.type.scrubValue(a)};a.prototype.render=function(a,d){var b=this.getValue();if(void 0!==b){var e=[];a&&(e.push(this.type.label),e.push(": "));e.push(b.toString());d&&e.push(this.type.text);return e.join("")}};return a}();b.Variable=d})(b.Variables||(b.Variables={}))})(e.Properties||
(e.Properties={}));(function(b){(function(b){b[b.InitEvent=0]="InitEvent";b[b.StepEvent=1]="StepEvent";b[b.SwitchEvent=2]="SwitchEvent";b[b.ActionsOrphan=3]="ActionsOrphan";b[b.PropertyOrphan=4]="PropertyOrphan"})(b.ScriptType||(b.ScriptType={}));(function(b){b.fromString=function(d){d=(d||"step").toString().toLowerCase().trim();if("init"===d)return 0;if(0===d.indexOf("step"))return 1;if("switch"===d)return 2;if("actionsorphan"===d)return 3;if("propertyorphan"===d)return 4;g.Util.logError("ScriptType.fromString()",
"Unknown script type: "+d);return 1};b.toString=function(d){return 0===d?"init":1===d?"step":2===d?"switch":3===d?"actionsorphan":4===d?"propertyorphan":"init"}})(b.ScriptType||(b.ScriptType={}));var e=function(b){function d(a){b.call(this,a,3);this.scriptSet=a;this.actions=[]}__extends(d,b);return d}(b.ActionsScript);b.ActionsOrphan=e;e=function(b){function d(a,c){b.call(this,a,c);this.properties=[]}__extends(d,b);return d}(b.Script);b.PropertiesScript=e;e=function(b){function d(a){b.call(this,a,
0);this.scriptSet=a}__extends(d,b);return d}(b.PropertiesScript);b.InitEvent=e;e=function(b){function d(a){b.call(this,a,4);this.scriptSet=a}__extends(d,b);return d}(b.PropertiesScript);b.PropertyOrphan=e;e=function(b){function d(a,c){b.call(this,a,1);this.stepIndex=c}__extends(d,b);return d}(b.ActionsScript);b.StepEvent=e;e=function(b){function d(a,c){b.call(this,a,2);this.switchName=c}__extends(d,b);return d}(b.ActionsScript);b.SwitchEvent=e})(e.Scripts||(e.Scripts={}));var h=function(){return function(b){void 0===
b&&(b=void 0);this.autoAdvanceDelay=b;this.stopLabel=this.startLabel="";this.time=0}}();e.Step=h})(g.Models||(g.Models={}));(function(e){var k=function(){function b(){}b.read=function(k,f){f.setup=f.setup||{};var d=(f.flowType||"simple").trim().toLowerCase(),a,c=e.Flows["read_"+d];void 0===c?(c=b.lookupExtension(d))&&c.readJson?a=c.readJson(k,f):(g.Util.logError("FlowReader.read()","Unknown Flow Type ("+d+")"),a=h.Motion.Extensions.Flows.unknown.readJson(k,f)):a=c(k,f);f.pages instanceof Array&&f.pages.forEach(function(c){a.pages.push(e.PageReader.read(a,
c))});return a};b.lookupExtension=function(b){for(var e in h.Motion.Extensions.Flows){var d=e.toLowerCase();if(b===d)return h.Motion.Extensions.Flows[e]}};return b}();e.FlowReader=k})(g.Serialization||(g.Serialization={}));(function(e){var k=h.Motion.Util,b=function(b){function f(d,a){var c=this;b.call(this,d.frame,k.createChildDivElement(a.div,"pro motion-camera"));this.story=d;this.frameElem=a;this.flowElems=[];this.resize();d.flows.forEach(function(a,d){var b=void 0,b="simple"===a.flowType?e.Flows.SimpleFlow:
g.Serialization.FlowReader.lookupExtension(a.flowType.toLowerCase()).Renderer;c.flowElems.push(new b(a,c,d))})}__extends(f,b);f.prototype.resize=function(){var d=this.frameElem.size,a=(100-this.story.frame.padding)/100,d=new g.Types.Size(d.width*a,d.height*a);1>d.width&&(d.width=1);1>d.height&&(d.height=1);this.size=d;TweenLite.set(this.div,{width:this.size.width,height:this.size.height,clearProps:"transform"})};f.prototype.stepStopped=function(d,a){d.pause(a.stopLabel)};return f}(e.Visual);e.Camera=
b;k=h.Motion.Util;b=function(b){function f(d,a){b.call(this,d.frame,k.createChildDivElement(a.div,"pro motion-frame"));this.story=d;this.canvasElem=a;this.resize();this.cameraElem=new e.Camera(d,this)}__extends(f,b);f.prototype.stepStopped=function(d,a){d.pause(a.stopLabel)};f.prototype.resize=function(){var d=this.canvasElem.size,a=this.story.frame.aspectRatio,c=(100-this.story.canvas.padding)/100,d=new g.Types.Size(d.width*c,d.height*c);1>d.width&&(d.width=1);1>d.height&&(d.height=1);c=d.aspectRatio();
c>a?d.width=d.height*a:c<a&&(d.height=d.width/a);this.size=d;TweenLite.set(this.div,{width:this.size.width,height:this.size.height,clearProps:"transform"});void 0!==this.cameraElem&&this.cameraElem.resize()};return f}(e.Visual);e.Frame=b})(g.Render||(g.Render={}));(function(e){(function(e){var b=function(){function b(){this.handlers=[]}b.prototype.on=function(b){this.handlers.push(b)};b.prototype.off=function(b){this.handlers=this.handlers.filter(function(d){return d!==b})};b.prototype.trigger=function(b){this.handlers&&
this.handlers.slice(0).forEach(function(d){return d(b)})};b.prototype.dispose=function(){this.handlers=[]};return b}();e.LiteEvent=b})(e.Events||(e.Events={}))})(g.Util||(g.Util={}));(function(e){var g=h.Motion.Util.Events,b=h.Motion.Render,l=function(){function e(b){this.frame=b;this.steps=[];this.animating=!1;this.currentSubStep=0;this.state={progress:0,time:0,step:void 0,subStep:0};this.progressChanged=new g.LiteEvent;this.stateChanged=new g.LiteEvent;this.stepComplete=new g.LiteEvent;this.refreshTimeline(b);
this.currentStep=this.getStepAtTime(0)}e.prototype.refreshTimeline=function(d){var a=this,c=0,e=!0;void 0!==this.timeline&&(c=this.timeline.time(),e=this.isPaused(),this.timeline.kill());this.timeline=(new b.Timeline(d,this.triggerProgressChanged.bind(this))).timeline;this.steps=[];var f=0;d.cameraElem.flowElems.forEach(function(c){c.pageElems.forEach(function(c){c.steps.forEach(function(c){c.playerStepIndex=f;f++;a.steps.push(c);a.timeline.addCallback(a.triggerStepComplete.bind(a),c.stopLabel,[c])})})});
this.currentStep=void 0===this.currentStep?this.steps[0]:this.steps[Math.min(this.currentStep.playerStepIndex,this.steps.length-1)];this.moveTo(c,!1,!e)};e.prototype.isAtStoryStart=function(){return.02>this.timeline.time()};e.prototype.isAtStoryEnd=function(){var b=this.timeline.time(),a=this.timeline.duration();return.02>Math.abs(a-b)};e.prototype.isAtStepStart=function(b){void 0===b&&(b=!1);return this.currentStep.isAtStart(this.timeline.time())?(b&&this.timeline.seek(this.currentStep.startLabel),
!0):!1};e.prototype.isAtStepEnd=function(){return this.currentStep.isAtEnd(this.timeline.time())};e.prototype.isPaused=function(){return this.timeline.paused()};e.prototype.isFirstStep=function(){return 0===this.currentStep.playerStepIndex};e.prototype.isLastStep=function(){return this.currentStep.playerStepIndex===this.steps.length-1};e.prototype.triggerStateChanged=function(){this.stateChanged.trigger(this.timeline.paused())};e.prototype.triggerProgressChanged=function(){var b=this.state;b.time=
this.timeline.time();b.progress=this.timeline.progress();if(b.time<this.currentStep.startTime||b.time>this.currentStep.stopTime)this.currentStep=this.getStepAtTime(b.time);b.step=this.currentStep;this.progressChanged.trigger(b)};e.prototype.triggerStepComplete=function(b){this.animating||(this.timeline.pause(b.stopTime),this.stepComplete.trigger(b))};e.prototype.getNextStep=function(b){void 0===b&&(b=!0);var a=this.currentStep.playerStepIndex+1;a>=this.steps.length&&(a=b?0:this.currentStep.playerStepIndex);
return this.steps[a]};e.prototype.getPriorStep=function(){var b=this.currentStep.playerStepIndex-1;0>b&&(b=this.steps.length-1);return this.steps[b]};e.prototype.getStepAtTime=function(b){if(b>=this.currentStep.startTime&&b<=this.currentStep.stopTime)return this.currentStep;for(var a=this.steps[0],c=1;c<this.steps.length;c++){var e=this.steps[c];if(e.startTime>b)break;a=e}return a};e.prototype.moveTo=function(b,a,c){var e=this;.01>b&&(b=.01);var f=this.getStepAtTime(b),g=f.isAtStart(b),q=f.isAtEnd(b),
h=Math.abs(this.timeline.time()-b);0<h&&a?(a=Math.max(.1,Math.min(h/5,1.5)),this.alignSequencedItemsToStep(f,g,q,!0),this.animating=!0,(new TimelineLite).to(this.timeline,a,{time:b,ease:Circ.easeOut,onComplete:function(){e.timeline.pause(b);e.animating=!1;c&&e.thenPlay(q,!0);e.triggerProgressChanged();e.triggerStateChanged()}})):(this.timeline.pause(b),c&&this.thenPlay(q),this.triggerProgressChanged())};e.prototype.thenPlay=function(b,a){void 0===a&&(a=!0);b?0<this.getRemainingSubStepCount()?this.playSubStep(this.currentSubStep+
1):(this.currentStep=this.getNextStep(!0),this.timeline.seek(this.currentStep.startTime,!0),this.isFirstStep()?this.alignSequencedItemsToStep(this.currentStep,!0,!1,!1):this.playSubStep(0,!1),a&&(this.timeline.play(),this.playSubStep(1))):(this.timeline.play(),this.playSubStep(1));this.triggerStateChanged()};e.prototype.seek=function(b,a){void 0===a&&(a=!1);b=Math.max(0,Math.min(b,1));var c=this.timeline.duration()*b;this.moveTo(c,a,!1);this.currentStep=this.getStepAtTime(c);this.alignSequencedItemsToStep(this.currentStep,
this.currentStep.isAtStart(c),this.currentStep.isAtEnd(c),!1)};e.prototype.seekStep=function(b,a){void 0===a&&(a=!1);this.timeline.pause();this.timeline.seek(b.startLabel);this.currentStep=b;this.alignSequencedItemsToStep(b,!0,!1,a);this.triggerProgressChanged();this.triggerStateChanged()};e.prototype.alignSequencedItemsToStep=function(b,a,c,e){var f=this;void 0===e&&(e=!1);var g=!0;this.steps.forEach(function(q){var h=q===b;h&&(g=!1);if(!h||!c){var k=0,k=q===b?a?0:1:g?-1:0;q.sequencedItems.forEach(function(a){a.moveToSubStep(k,
e,f.frame.cameraElem.size)})}})};e.prototype.playSubStep=function(b,a){var c=this;void 0===a&&(a=!0);this.currentSubStep=b;this.currentStep.sequencedItems.forEach(function(e){e.moveToSubStep(b,a,c.frame.cameraElem.size)});this.state.subStep=Math.max(0,this.currentSubStep-1);this.progressChanged.trigger(this.state)};e.prototype.getRemainingSubStepCount=function(){return Math.max(0,this.currentStep.getSubStepCount()-this.currentSubStep)};e.prototype.togglePlay=function(){this.isPaused()?this.isAtStoryEnd()?
this.seekStep(this.steps[0]):this.playCurrentStep():this.pause()};e.prototype.playCurrentStep=function(){this.isAtStepStart(!0)&&this.playSubStep(1);this.timeline.play();this.triggerStateChanged()};e.prototype.playNextStep=function(b){void 0===b&&(b=!1);this.isAtStepStart()?this.moveTo(this.currentStep.startTime,!1,!0):this.moveTo(this.currentStep.stopTime,b,!0)};e.prototype.backStep=function(b){void 0===b&&(b=!1);this.isAtStepEnd()&&1<this.currentSubStep?this.playSubStep(this.currentSubStep-1):this.isFirstStep()&&
(0<this.currentSubStep||this.timeline.time()>this.currentStep.startTime)?this.animating||(this.moveTo(this.currentStep.startTime,!0,!1),this.playSubStep(0)):this.isAtStoryStart()?this.animating||(this.currentStep=this.steps[this.steps.length-1],this.timeline.pause(this.currentStep.stopTime),this.alignSequencedItemsToStep(this.currentStep,!1,!0,!1),this.playSubStep(this.currentStep.getSubStepCount()),this.triggerProgressChanged()):(this.currentStep=this.getPriorStep(),this.playSubStep(this.currentStep.getSubStepCount()),
this.moveTo(this.currentStep.stopTime,b,!1))};e.prototype.pause=function(){this.timeline.pause();this.triggerStateChanged()};return e}();e.Player=l;l=function(){function b(){}b.prototype.resize=function(){};b.byConfig=function(b,a){if(void 0!==a&&"track"===(a.type||"").toString().trim().toLowerCase())return new e.TrackControls(b,a)};return b}();e.Controls=l})(g.Play||(g.Play={}));(function(e){var k=h.Motion.Util,b=function(b){function f(d,a,c){void 0===c&&(c={});b.call(this,d.canvas,a);this.story=
d;k.setElementText(a,"");this.fullScreen=a instanceof HTMLBodyElement;this.generateStyles();this.setCanvasSize();this.listenForResize(c);this.frameElem=new e.Frame(this.story,this);this.player=new g.Play.Player(this.frameElem);this.controls=g.Play.Controls.byConfig(this,c.controls);this.autoPlay=new g.Play.AutoPlay(this,c.auto);this.keyboard=new g.Play.KeyboardPlay(this,c.keyboard);c.mouseWheel&&this.setupMouseWheel();c.debugBar&&this.showDebugBar();this.hideContextMenu()}__extends(f,b);f.prototype.resize=
function(b){void 0===b&&(b=!1);if(this.setCanvasSize()||b)this.frameElem.resize(),this.controls&&this.controls.resize(),this.player.refreshTimeline(this.frameElem)};f.prototype.listenForResize=function(b){b.auto=b.auto||{};void 0===b.auto.resize&&(b.auto.resize=!0);b.auto.resize&&window.addEventListener("resize",k.throttle(this.resize.bind(this),3),!1)};f.prototype.setCanvasSize=function(){if(this.fullScreen)return this.size=new g.Types.Size(this.div.clientWidth,this.div.clientHeight),!0;var b=this.div.clientWidth;
if(void 0!==this.size&&b===this.size.width)return!1;var a=this.story.canvas.padding/100*b;this.div.style.height=(b-a)/this.story.frame.aspectRatio+a+"px";TweenLite.set(this.div,{clearProps:"transform"});this.size=new g.Types.Size(this.div.clientWidth,this.div.clientHeight);return!0};f.prototype.generateStyles=function(){var b=k.getStyleElement("pro-motion-styles"),a={selectors:[]};this.fullScreen&&(a.selectors.push("html"),a.html={height:"100%"},a.selectors.push("body"),a.body={height:"100%",margin:0,
overflow:"hidden"});a.selectors.push(".pro");a[".pro"]={position:"absolute",transform:"translate(-50%,-50%) translate3d(0, 0, 0)",top:"50%",left:"50%"};a.selectors.push(".pro.motion-frame");a[".pro.motion-frame"]={position:"relative"};a.selectors.push(".pro.motion-camera");a[".pro.motion-camera"]={position:"relative",transformStyle:"preserve-3d"};a.selectors.push(".pro.motion-flow");a[".pro.motion-flow"]={width:"100%",height:"100%",transformStyle:"preserve-3d"};a.selectors.push(".pro.motion-page");
a[".pro.motion-page"]={width:"100%",height:"100%",transformStyle:"preserve-3d"};a.selectors.push(".pro.motion-item");a[".pro.motion-item"]={userSelect:"none",whiteSpace:"nowrap"};a.selectors.push(".pro.motion-item.unknown");a[".pro.motion-item.unknown"]={fontSize:"16px",fontWeight:"bold",color:"#FFF",padding:"1% 1%",backgroundColor:"#C00",border:"solid 3px #FFF"};a.selectors.push(".pro.motion-layer");a[".pro.motion-layer"]={transformStyle:"preserve-3d"};a.selectors.push(".pro.motion-text");a[".pro.motion-text"]=
{userSelect:"none",whiteSpace:"nowrap",transformStyle:"preserve-3d"};a.selectors.push(".pro-motion-text-line");a[".pro-motion-text-line"]={position:"relative",display:"block",transformStyle:"preserve-3d"};a.selectors.push(".pro-motion-text-line-stacked");a[".pro-motion-text-line-stacked"]={position:"absolute",display:"block",transformStyle:"preserve-3d"};a.selectors.push(".pro-motion-text-word");a[".pro-motion-text-word"]={position:"relative",display:"inline-block",transformStyle:"preserve-3d"};a.selectors.push(".pro-motion-text-word-stacked");
a[".pro-motion-text-word-stacked"]={position:"absolute",display:"inline-block",transformStyle:"preserve-3d"};a.selectors.push(".pro-motion-text-char");a[".pro-motion-text-char"]={position:"relative",display:"inline-block"};a.selectors.push(".pro-motion-text-char-stacked");a[".pro-motion-text-char-stacked"]={position:"absolute",display:"inline-block"};b.innerHTML=k.encodeStyleSheet(a)};f.prototype.setupMouseWheel=function(){var b=this;this.div.addEventListener("wheel",function(a){var c=a.ctrlKey?a.altKey?
.001:1:a.altKey?.01:.1,e=b.player.timeline.totalTime(),f=k.convertToNumber(a.deltaY,-1),e=Math.round((e+(0>f?c:-c))/c)*c,c=b.player.timeline.totalDuration();.01>e?e=c:e>c&&(e=.01);b.player.timeline.totalTime(e);b.player.timeline.pause(e);b.autoPlay.pause();a.preventDefault();return!1})};f.prototype.hideContextMenu=function(){this.div.oncontextmenu=function(b){}};f.prototype.showDebugBar=function(){var b=k.createChildDivElement(this.div);TweenLite.set(b,{position:"absolute",backgroundColor:"black",
color:"white",fontSize:14,padding:3,top:0,left:0});this.player.progressChanged.on(function(a){b.innerHTML=a.time.toFixed(3)+" ("+Math.round(100*a.progress)+"%) "+a.step.label+a.subStep})};return f}(e.Visual);e.Canvas=b})(g.Render||(g.Render={}));(function(e){var g=h.Motion.Util,b=function(){function b(d,a){this.canvasElem=d;a=(this.config=a)||{};a.advance=!!a.advance;a.advanceDelay=g.convertToNumber(a.advanceDelay);a.restart=!!a.restart;a.start=!!a.start;var c=this.canvasElem.player;c.stepComplete.on(this.stepComplete.bind(this));
c.pause();a.start&&setTimeout(function(){c.playCurrentStep()},1E3)}b.prototype.stepComplete=function(b){var a=this.canvasElem.player;a.pause();!this.config.advance||a.isAtStoryEnd()&&!this.config.restart?a.timeline.seek(b.stopTime,!0):(b=void 0==b.step.autoAdvanceDelay?g.convertToNumber(this.config.advanceDelay):g.convertToNumber(b.step.autoAdvanceDelay),0>=b?a.playNextStep():(clearTimeout(this.timeout),this.timeout=setTimeout(function(){a.playNextStep()},b)))};b.prototype.pause=function(){clearTimeout(this.timeout)};
return b}();e.AutoPlay=b;g=h.Motion.Util;b=function(){function b(d,a){this.canvasElem=d;this.config=a;void 0!==a&&!1!==a&&(this.player=d.player,"object"!==typeof a&&(a=this.getDefaultConfig()),this.listenForKeyPresses(a))}b.prototype.getDefaultConfig=function(){return{play:[13,116],pause:[19,27],togglePlay:[32],back:[8,33,37,38,188],playNext:[34,39,40,9],start:[36,190],end:[35]}};b.prototype.listenForKeyPresses=function(b){var a={},c;c=0+this.mapKeys(a,b.end,this.end.bind(this));c+=this.mapKeys(a,
b.start,this.start.bind(this));c+=this.mapKeys(a,b.back,this.back.bind(this));c+=this.mapKeys(a,b.pause,this.pause.bind(this));c+=this.mapKeys(a,b.play,this.play.bind(this));c+=this.mapKeys(a,b.togglePlay,this.togglePlay.bind(this));c+=this.mapKeys(a,b.playNext,this.playNext.bind(this));0!==c&&(document.addEventListener("keydown",function(b){if(!b.ctrlKey){var c=b.keyCode;(a[c]instanceof Function||9===c)&&b.preventDefault()}},!1),document.addEventListener("keyup",function(b){if(!b.ctrlKey){var c=
b.keyCode,d=a[c];if(d instanceof Function||9===c)d instanceof Function&&d(),b.preventDefault()}},!1))};b.prototype.mapKeys=function(b,a,c){var e=0;a instanceof Array&&a.forEach(function(a){a=g.convertToNumber(a);0<a&&(b[a]=c,e++)});return e};b.prototype.play=function(){this.player.playCurrentStep()};b.prototype.pause=function(){this.player.pause()};b.prototype.togglePlay=function(){this.player.togglePlay()};b.prototype.back=function(){this.player.backStep(!0)};b.prototype.playNext=function(){this.player.playNextStep(!0)};
b.prototype.start=function(){this.player.seekStep(this.player.steps[0],!1)};b.prototype.end=function(){this.player.seekStep(this.player.steps[0],!1);this.player.backStep(!1)};return b}();e.KeyboardPlay=b;var g=h.Motion.Util,l=h.Motion.Svg,b=function(b){function d(a,c){b.call(this);this.canvasElem=a;this.config=c;this.COLOR="#BBB";this.HIGHLIGHT_COLOR="#FFF";this.BACK_COLOR="#222";this.STEP_COLOR_1="#444";this.STEP_COLOR_2="#555";this.divScrubberStep=[];this.progress=0;this.generateStyles();this.setupButtons();
this.setupScrubber();this.setupPlayerEvents();this.setupMenuOnMouseMove();this.resize()}__extends(d,b);d.prototype.setupButtons=function(){var a=this.canvasElem.player;this.bgDiv=g.createChildDivElement(this.canvasElem.div,this.bgClass);this.logoDiv=this.addButton("Pro Motion",l.logo.svg,function(){window.open("http://pro.graphics/motion","_blank")});this.backDiv=this.addButton("Back",l.toStart.svg,function(){a.backStep(!0)});this.playDiv=this.addButton("Play",l.play.svg,function(){a.togglePlay()});
this.nextDiv=this.addButton("Play Next",l.fastForward.svg,function(){a.playNextStep(!0)})};d.prototype.setupScrubber=function(){var a=this.canvasElem.player;this.divScrubber=g.createChildDivElement(this.bgDiv,this.scrubberClass);this.divScrubberBar=g.createChildDivElement(this.divScrubber,this.scrubberBarClass);for(a=a.steps.length-1;0<=a;a--)this.divScrubberStep.push(g.createChildDivElement(this.divScrubberBar,this.scrubberStepClass));this.divScrubberProgress=g.createChildDivElement(this.divScrubberBar,
this.scrubberProgressClass);this.divScrubberHoverPoint=g.createChildDivElement(this.divScrubberBar,this.scrubberHoverPointClass);this.divScrubberHoverText=g.createChildDivElement(this.divScrubber,this.scrubberHoverTextClass);this.divScrubber.onmousemove=this.scrubberMouseMove.bind(this);this.divScrubber.onclick=this.scrubberMouseClick.bind(this)};d.prototype.scrubberMouseMove=function(a){var b=this.canvasElem.div.getBoundingClientRect(),d=this.canvasElem.player,e=this.scrubberSize,f=e.width-e.barHeight,
q=e.barHeight/2;a=Math.max(q,Math.min(a.clientX-b.left-e.left,e.width-q))-e.barHeight;this.divScrubberHoverPoint.style.left=(a+q+q/2-1).toString()+"px";d=d.timeline.duration()*(a+q)/f;this.divScrubberHoverText.style.left=a.toString()+"px";g.setElementText(this.divScrubberHoverText,d.toFixed(2))};d.prototype.scrubberMouseClick=function(a){var b=this.canvasElem.div.getBoundingClientRect(),d=this.canvasElem.player,e=this.scrubberSize,f=e.width-e.barHeight,g=e.barHeight/2;a=Math.max(g,Math.min(a.clientX-
b.left-e.left,e.width-g))-e.barHeight;d.seek((a+g)/f,!0)};d.prototype.setupPlayerEvents=function(){var a=this.canvasElem.player;a.progressChanged.on(this.progressChanged.bind(this));a.stateChanged.on(this.stateChanged.bind(this))};d.prototype.setupMenuOnMouseMove=function(){var a=this.canvasElem.div,b=this.canvasElem.fullScreen,d=g.throttle(function(){a.classList.remove("mouseMovement");b&&(a.style.cursor="none")},3E3);a.onmousemove=function(e){a.classList.add("mouseMovement");b&&(a.style.cursor=
"auto");d()}};d.prototype.progressChanged=function(a){this.progress=a.progress;this.updateScrubberProgress()};d.prototype.stateChanged=function(a){this.playDiv.innerHTML=a?l.play.svg:l.pause.svg};d.prototype.resize=function(){var a=this.canvasElem.div.clientWidth,b=this.canvasElem.div.clientHeight,d=Math.min(Math.max(40,Math.min(a/12,200)),Math.max(40,Math.min(b/12,200))),e=Math.max(5,d/3);TweenMax.set(this.bgDiv,{left:0,top:b-d,width:a,height:d});var b=.9*d,f=.88*d,g=.53*d,h=.6*d,k=a-f-g-h-3.2*e;
TweenMax.set(this.logoDiv,{left:e/2,top:0,height:d,width:b});TweenMax.set(this.nextDiv,{left:a-f-e,top:0,height:d,width:f});TweenMax.set(this.playDiv,{left:a-f-g-2*e,top:0,height:d,width:g});TweenMax.set(this.backDiv,{left:k,top:0,height:d,width:h});this.scrubberSize={left:b+e,width:k-b-2*e,height:d,barHeight:d/3};this.resizeScrubber();this.updateScrubberProgress()};d.prototype.resizeScrubber=function(){var a=this,b=this.scrubberSize,d=this.canvasElem.player,e=d.steps.length-1,f=d.timeline.duration(),
g=b.barHeight/2,h=b.width-b.barHeight;this.divScrubber.style.left=b.left+"px";this.divScrubber.style.width=b.width+"px";this.divScrubber.style.height=b.height+"px";this.divScrubberBar.style.width=b.width+"px";this.divScrubberBar.style.top=(b.height-b.barHeight)/2+"px";this.divScrubberBar.style.height=b.barHeight+"px";this.divScrubberBar.style.borderRadius=g+"px";d.steps.forEach(function(d,k){var l=a.divScrubberStep[e-k];l.style.left=(h*d.startTime/f).toString()+"px";l.style.width=(h*d.time/f+b.barHeight).toString()+
"px";l.style.height=b.barHeight+"px";l.style.borderRadius=g+"px"});this.divScrubberHoverPoint.style.height=g+"px";this.divScrubberHoverPoint.style.width=g+"px";this.divScrubberHoverPoint.style.top=(b.barHeight/4-1).toString()+"px";this.divScrubberHoverPoint.style.borderRadius=g+"px";this.divScrubberHoverText.style.fontSize=.9*b.barHeight+"px";this.divScrubberProgress.style.height=b.barHeight+"px";this.divScrubberProgress.style.borderRadius=g+"px";this.updateScrubberProgress()};d.prototype.updateScrubberProgress=
function(){var a=this.scrubberSize;this.divScrubberProgress.style.width=((a.width-a.barHeight)*this.progress+a.barHeight).toString()+"px"};d.prototype.generateStyles=function(){var a=(new Date).getTime().toString();this.bgClass="controls-bg-"+a;this.btnClass="controls-btn-"+a;this.scrubberClass="scrubber-"+a;this.scrubberBarClass="scrubber-back-"+a;this.scrubberStepClass="scrubber-step-"+a;this.scrubberProgressClass="scrubber-progress-"+a;this.scrubberHoverPointClass="scrubber-point-"+a;this.scrubberHoverTextClass=
"scrubber-text-"+a;var a=g.getStyleElement("pro-motion-track-controls-"+a),b={selectors:[]};b.selectors.push("."+this.bgClass);b["."+this.bgClass]={transition:"opacity 1s ease-in-out, transform 1s ease-in-out",backgroundColor:this.config.backColor||this.BACK_COLOR,position:"absolute",display:"inline-block",opacity:0,transform:"translate3d(0, 0, 20px)"};b.selectors.push(".mouseMovement ."+this.bgClass);b[".mouseMovement ."+this.bgClass]={opacity:.5,transform:"translate3d(0, 0, 0)"};b.selectors.push("."+
this.bgClass+":hover");b["."+this.bgClass+":hover"]={opacity:.8};b.selectors.push("."+this.bgClass+" div");b["."+this.bgClass+" div"]={position:"absolute"};b.selectors.push("."+this.btnClass);b["."+this.btnClass]={cursor:"pointer"};b.selectors.push("."+this.btnClass+" svg");b["."+this.btnClass+" svg"]={fill:this.config.color||this.COLOR,width:"100%",height:"100%"};b.selectors.push("."+this.btnClass+":hover svg");b["."+this.btnClass+":hover svg"]={fill:this.config.highlightColor||this.HIGHLIGHT_COLOR};
b.selectors.push("."+this.scrubberClass);b["."+this.scrubberClass]={cursor:"none"};b.selectors.push("."+this.scrubberBarClass);b["."+this.scrubberBarClass]={};b.selectors.push("."+this.scrubberStepClass);b["."+this.scrubberStepClass]={borderRight:"solid 2px "+(this.config.backColor||this.BACK_COLOR),backgroundColor:this.config.stepColor1||this.STEP_COLOR_1,background:"linear-gradient(to right, "+(this.config.stepColor1||this.STEP_COLOR_1)+", "+(this.config.stepColor2||this.STEP_COLOR_2)+")"};b.selectors.push("."+
this.scrubberProgressClass);b["."+this.scrubberProgressClass]={backgroundColor:this.config.color||this.COLOR};b.selectors.push("."+this.scrubberHoverPointClass);b["."+this.scrubberHoverPointClass]={border:"solid 1px "+(this.config.backColor||this.BACK_COLOR),backgroundColor:this.config.highlightColor||this.HIGHLIGHT_COLOR,display:"none"};b.selectors.push("."+this.scrubberClass+":hover ."+this.scrubberHoverPointClass);b["."+this.scrubberClass+":hover ."+this.scrubberHoverPointClass]={display:"block"};
b.selectors.push("."+this.scrubberHoverTextClass);b["."+this.scrubberHoverTextClass]={color:this.config.color||this.COLOR,fontFamily:"font-family: arial, helvetica, sans-serif",display:"none"};b.selectors.push("."+this.scrubberClass+":hover ."+this.scrubberHoverTextClass);b["."+this.scrubberClass+":hover ."+this.scrubberHoverTextClass]={display:"block"};a.innerHTML=g.encodeStyleSheet(b)};d.prototype.addButton=function(a,b,d){var e=g.createChildDivElement(this.bgDiv,this.btnClass);e.className=this.btnClass;
e.innerHTML=b;e.title=a;e.addEventListener("mousedown",function(a){d();a.preventDefault();a.stopPropagation();return!1});return e};return d}(e.Controls);e.TrackControls=b})(g.Play||(g.Play={}));(function(e){(function(b){var f=h.Motion.Util,d=h.Motion.Models.Properties,a=function(){function a(){}a.generateTimeline=function(b,f,g,q,h,k,l){void 0===l&&(l=void 0);var m=a.getMoveTo(q.properties,b.items),n=[];for(b=0;b<g.length;b++)n.push({force3D:!0,immediateRender:!1,delay:q.delay,element:g[b],elementIndex:b});
var p=0,w=0,A=q.script.scriptSet.itemSet.flow.story;q.properties.forEach(function(a){a.type instanceof d.AnimationPropertyType?(w=a.duration.getValue()||0,p=a.stagger.getValue()||0,0<w&&a.writeCssBuckets(A,f.model,k,n,!1)):void 0!==m&&(a.type instanceof d.MoveToPropertyType||a.type instanceof d.PositionPropertyType||a.type instanceof d.RotationPropertyType||a.type instanceof d.ScalePropertyType||a.type instanceof d.SkewPropertyType)||a.writeCssBuckets(A,f.model,k,n,!1)});e.Visual.postProcessCssBuckets(n,
l,q.properties,k);q=h.totalDuration();for(b=0;b<g.length;b++)0<w?h.to(g[b],w,n[b],q):h.set(g[b],n[b],q),q+=p;return m};a.getMoveTo=function(a,b){var c=void 0;a.forEach(function(a){a.type instanceof d.MoveToPropertyType&&(c=a.getVariable("item").getValue(),void 0!==c&&(0>c||c>b.length)&&(c=void 0))});return c};a.generateMoveTo=function(a,b,c){if(b){var d=f.getGSTransform(b),e=[];(d.x||d.y||d.z)&&e.push("translate3d("+-d.x+"px,"+-d.y+"px,"+-d.z+"px)");d.rotationX&&e.push("rotateX("+-d.rotationX+"deg)");
d.rotationY&&e.push("rotateY("+-d.rotationY+"deg)");d.rotation&&e.push("rotate("+-d.rotation+"deg)");var g=Math.max(0,Math.min(0===d.scaleX?1:1/d.scaleX,10)),h=Math.max(0,Math.min(0===d.scaleY?1:1/d.scaleY,10));1!==d.scaleX&&e.push("scaleX("+g+")");1!==d.scaleY&&e.push("scaleY("+h+")");d.skewX&&e.push("skewX("+-d.skewX+"deg)");console.log(e.join(" "));console.log(b._gsTransform);b={transform:e.join(" "),xPercent:-50,yPercent:-50};c.to(a,1.2,b)}};return a}();b.SetPropertiesAction=a})(e.Actions||(e.Actions=
{}));(function(b){var e=function(b){function a(a,e,f){b.call(this,a,e,f)}__extends(a,b);return a}(b.Flow);b.PlacementFlow=e})(e.Flows||(e.Flows={}));(function(b){var f=h.Motion.Util,d=function(a){function b(c,d){a.call(this,c,d,f.createChildImageElement(d.div,"pro motion-item",c.itemSet.flow.story.canvas.adjustImageUrl(c.src),c.width,c.height));this.imageItem=c}__extends(b,a);b.prototype.initializeItem=function(a,b){var c=this.imageItem,d=b.getContainedSize(c.itemSet.flow.pageAspectRatio),e={};void 0!==
c.width&&(e.width=c.width.toString()+"%");void 0!==c.height&&(e.height=c.height.toString()+"%");this.initializeProperties(c.itemSet.flow.story,[this.element],d,a,c.init,!1,e)};return b}(b.Item);b.ImageItem=d;f=h.Motion.Util;d=function(a){function b(c,d){a.call(this,c,d,f.createChildDivElement(d.div,"pro motion-layer"));this.layerItem=c;this.items=[];e.Page.createItems(this,c.items)}__extends(b,a);b.prototype.initializeItem=function(b,c){a.prototype.initializeItem.call(this,b,c);this.items.forEach(function(a){a.initializeItem(b,
c)})};b.prototype.generateStepActions=function(b,c,d,e,f){var g=this;this.items.forEach(function(a){a.generateStepActions(g,c,d,e,f)});a.prototype.generateStepActions.call(this,this,c,d,e,f)};return b}(b.Item);b.LayerItem=d;f=h.Motion.Util;d=function(a){function b(c,d){a.call(this,c,d,f.createChildDivElement(d.div,"pro motion-text"));this.textItem=c;this.splitText=void 0;this.chars=this.words=this.lines=!1;this.div.innerHTML=c.text;this.lines=c.stackedLines||0<c.linesScriptSet.scripts.length||c.linesInit.hasAnythingSet();
this.words=c.stackedWords||0<c.wordsScriptSet.scripts.length||c.wordsInit.hasAnythingSet();this.chars=c.stackedChars||0<c.charsScriptSet.scripts.length||c.charsInit.hasAnythingSet();if(this.lines||this.words||this.chars){var e=[];this.lines&&e.push("lines");this.words&&e.push("words");this.chars&&e.push("chars");e={type:e.join(",")};this.lines&&(e.linesClass=c.stackedLines?"pro-motion-text-line-stacked":"pro-motion-text-line");this.words&&(e.wordsClass=c.stackedWords?"pro-motion-text-word-stacked":
"pro-motion-text-word");this.chars&&(e.charsClass=c.stackedChars?"pro-motion-text-char-stacked":"pro-motion-text-char");this.splitText=new window.SplitText(this.div,e)}}__extends(b,a);b.prototype.initializeItem=function(a,b){var c=this.textItem,d=c.itemSet.flow.story,e=b.getContainedSize(c.itemSet.flow.pageAspectRatio),f=this.initializeProperties.bind(this);f(d,[this.div],e,a,c.init,!1);void 0!==this.splitText&&(this.lines&&f(d,this.splitText.lines,e,a,c.linesInit,!1),this.words&&f(d,this.splitText.words,
e,a,c.wordsInit,!1),this.chars&&f(d,this.splitText.chars,e,a,c.charsInit,!1))};b.prototype.generateStepActions=function(a,b,c,d,e){var f=this.textItem,g=this.generateActionsForStep.bind(this);g(a,[this.div],b,c,d,e,f.scriptSet);void 0!==this.splitText&&(this.lines&&g(a,this.splitText.lines,b,c,d,e,f.linesScriptSet),this.words&&g(a,this.splitText.words,b,c,d,e,f.wordsScriptSet),this.chars&&g(a,this.splitText.chars,b,c,d,e,f.charsScriptSet))};return b}(b.Item);b.TextItem=d})(e.Items||(e.Items={}));
var g=function(){function b(e,d,a,c,g){this.step=e;this.flowIndex=d;this.pageIndex=a;this.stepIndex=c;this.sequencedItems=g;this.playerStepIndex=this.time=0;this.label=d.toString()+"-"+a.toString()+"-"+c.toString()+"-";this.startLabel=this.label+"start";this.stopLabel=this.label+"stop";e.startLabel=this.startLabel;e.stopLabel=this.stopLabel}b.prototype.isAtStart=function(b){return.02>Math.abs(b-this.startTime)};b.prototype.isAtEnd=function(b){return.02>Math.abs(b-this.stopTime)};b.prototype.getSubStepCount=
function(){var b=0;this.sequencedItems.forEach(function(d){b=Math.max(b,d.getCountOfSubSteps())});return b};return b}();e.Step=g;var b=h.Motion.Types,g=function(){function e(b,d){this.generateTimeline(b,d)}e.prototype.generateTimeline=function(e,d){var a=this;TweenMax.defaultOverwrite="none";TweenMax.defaultEase=b.Eaze.DEFAULT.ease;void 0!==this.timeline&&this.timeline.kill();this.timeline=new TimelineMax({autoRemoveChildren:!1,onUpdate:d});this.timeline.addLabel("initialize",0);var c=e.story,g=e.canvasElem,
h=g.size,r=e.size,q=e.cameraElem,k=q.size,l={fontFamily:"arial"};g.fullScreen||(l.height=h.height);g.initializeProperties(c,[g.div],k,this.timeline,c.canvas.init,!1,l);l={width:r.width,height:r.height};e.initializeProperties(c,[e.div],k,this.timeline,c.frame.init,!1,l);q.flowElems.forEach(function(b){var d=k.getContainedSize(b.pageAspectRatio());b.pageElems.forEach(function(b){b.initializeProperties(c,[b.div],d,a.timeline,b.page.init,!1);b.items.forEach(function(b){b.initializeItem(a.timeline,e.cameraElem.size)})});
b.initializePlacement(a.timeline)});var m=void 0;q.flowElems.forEach(function(b){m=b.generateStepsActions(a.timeline,m)});return this.timeline};return e}();e.Timeline=g})(g.Render||(g.Render={}));(function(e){var k=h.Motion.Models.Actions,b=h.Motion.Util,l=function(){function a(){}a.readArray=function(b,c){var d=[];c instanceof Array&&c.forEach(function(c){d.push(a.read(b,c))});return d};a.read=function(b,c){c=c||{};k.ActionType.fromString(c.actionType);return a.readPropertiesAction(b,c)};a.readPropertiesAction=
function(a,c){var d=e.PropertyListReader.read(a.scriptSet.itemSet.story,c,a.scriptSet.itemProperties).properties;return new k.SetPropertiesAction(a,b.convertToNumber(c.delay),d)};return a}();e.ActionReader=l;k=h.Motion.Models.Actions;l=function(){function a(){}a.writeArray=function(a){var b=[];a.forEach(function(a){b.push(a.saveJson())});return b};a.write=function(b){return a.writePropertiesAction(b)};a.writePropertiesAction=function(a){var b={actionType:k.ActionType.toString(a.actionType)};e.PropertyWriter.writeSet(b,
a.properties);a.delay&&(b.delay=a.delay);return b};return a}();e.ActionWriter=l;l=function(){function a(){}a.read=function(a,b){return"boolean"===typeof b?a.createPropertyFromBoolean(b):"number"===typeof b?a.createPropertyFromNumber(b):"string"===typeof b?a.createPropertyFromString(b):b instanceof Array?a.createPropertyFromArray(b):a.createPropertyFromObject(b)};return a}();e.PropertyReader=l;var f=h.Motion.Models.Properties,l=function(){function a(){}a.read=function(b,c,d,h,k,l){void 0===h&&(h=void 0);
void 0===k&&(k=void 0);void 0===l&&(l=[]);c=c||{};var m=[];d.forEach(function(a){"class"===a.jsonNames[0]&&c.hasOwnProperty("class")&&(a=e.PropertyReader.read(a,c["class"]).getVariable("name").getValue())&&(h=a.trim(),k={})});var n=void 0;h&&-1===l.indexOf(h)&&(l.push(h),k=(b.classes||{})[h]||k,void 0!==k&&(n=a.read(b,k,d,void 0,void 0,l)));var p=g.Util.lowercaseProperties(c);d.forEach(function(a){var b=void 0,c=void 0;void 0!==n&&(c=n.getPropertyOfType(a));for(var d=0;d<a.jsonNames.length;d++){var g=
a.jsonNames[d];if(p.hasOwnProperty(g)){b=e.PropertyReader.read(a,p[g]);break}}void 0!==c&&(void 0===b&&(b=new f.Property(a)),a.variableTypes.forEach(function(a){var d=b[a.jsonNames[0]];a=c[a.jsonNames[0]];if(void 0!==a){var e=a.getValue(!1);void 0===e&&(e=a.defaultValueOverride);void 0!==e&&(d.defaultValueOverride=e)}}));void 0!==b&&m.push(b)});return new f.PropertyList(d,m)};return a}();e.PropertyListReader=l;f=h.Motion.Models.Properties;l=function(){function a(){}a.read=function(a){a=a||{};a.init=
a.init||{};a.init.crop=void 0===a.init.crop?!0:a.init.crop;var b=e.PropertyListReader.read(void 0,a.init,f.PerElement.Canvas.getPropertyTypes()),c=Math.max(0,Math.min(g.Util.convertToNumber(g.Util.getSetup(a,"padding"),0),50));return new g.Models.Canvas(b,c,g.Util.getSetup(a,"imageRootUrl"))};return a}();e.CanvasReader=l;l=function(){function a(){}a.write=function(a){var b={setup:{}};b.setup.padding=a.padding;return b};return a}();e.CanvasWriter=l;l=function(){function a(){}a.write=function(a){var b=
{setup:{}};b.flowType=a.flowType;var c=e.Flows["write_"+b.flowType];void 0===c?g.Util.logError("FlowWriter.write()","Unknown Flow Type ("+b.flowType+")"):c(a,b);b.pages=[];a.pages.forEach(function(a){b.pages.push(e.PageWriter.write(a))});return b};return a}();e.FlowWriter=l;(function(a){var b=h.Motion.Models,c=h.Motion.Util;a.read_simple=function(a,d){var e=d.setup||{},f=g.Types.Placement.fromJson(e.placement),h=c.convertToNumber(e.pageAspectRatio,a.frame.aspectRatio);return new b.Flows.SimpleFlow(a,
f,e.defaultPageClass,h)};a.write_simple=function(a,b){}})(e.Flows||(e.Flows={}));f=h.Motion.Models.Properties;l=function(){function a(){}a.read=function(b){b=b||{};b.init=b.init||{};var c=e.PropertyListReader.read(void 0,b.init,f.PerElement.Frame.getPropertyTypes()),d=g.Util.convertToNumber(g.Util.getSetup(b,"aspectRatio")||a.DEFAULT_ASPECT_RATIO,a.DEFAULT_ASPECT_RATIO);b=Math.max(0,Math.min(g.Util.convertToNumber(g.Util.getSetup(b,"padding"),0),50));return new g.Models.Frame(c,d,b)};a.DEFAULT_ASPECT_RATIO=
16/9;return a}();e.FrameReader=l;l=function(){function a(){}a.write=function(a){var b={setup:{}};b.setup.aspectRatio=a.aspectRatio;b.setup.padding=a.padding;return b};return a}();e.FrameWriter=l;l=function(){function a(){}a.write=function(a){var b={};b.itemType=a.itemType;b.setup={};var c=e.Items["write_"+b.itemType];void 0===c?((c=h.Motion.Extensions.Items[a.itemType])&&c.readJson&&c.writeJson(a,b),g.Util.logError("ItemWriter.write()","Unknown Item Type ("+b.itemType+")")):c(a,b);b.scripts=e.ScriptSetWriter.write(a.scriptSet);
return b};return a}();e.ItemWriter=l;var d;(function(a){var b=h.Motion.Models,c=h.Motion.Util;a.read_image=function(a,d){var g=(c.getSetup(d,"src")||"").trim(),f=c.getSetup(d,"width"),h=c.getSetup(d,"height"),f=isNaN(f)?void 0:Number(f),h=isNaN(h)?void 0:Number(h),k=b.Properties.PerElement.ImageItem.getPropertyTypes(),l=e.PropertyListReader.read(a.story,d.init,k),k=e.ScriptSetReader.readJson(a,"Image",d,[""],k);return new b.Items.ImageItem(a,g,f,h,l,k)};b=h.Motion.Models;a.read_layer=function(a,c){var d=
b.Properties.PerElement.LayerItem.getPropertyTypes(),f=e.PropertyListReader.read(a.story,c.init,d),d=e.ScriptSetReader.readJson(a,"Layer",c,[""],d),f=new b.Items.LayerItem(a,f,d);f.items=e.PageReader.readItems(f,c);return f};b=h.Motion.Models;c=h.Motion.Util;a.read_text=function(a,d){var f=c.getSetup(d,"text"),g="";if(f instanceof Array){var h=[];f.forEach(function(a){h.push(a.toString())});g=h.join("<br>")}else g=(f||"").toString();var f=!!c.getSetup(d,"stackedLines"),k=!!c.getSetup(d,"stackedWords"),
l=!!c.getSetup(d,"stackedChars"),m=b.Properties.PerElement.TextItem,u=m.getPropertyTypes(),n=m.getLinePropertyTypes(),p=m.getWordPropertyTypes(),t=m.getCharPropertyTypes(),m=e.PropertyListReader.read(a.story,d.init,u),v=e.PropertyListReader.read(a.story,d.lineInit||d.linesInit,n),x=e.PropertyListReader.read(a.story,d.wordInit||d.wordsInit,p),B=e.PropertyListReader.read(a.story,d.charInit||d.charsInit,t),u=e.ScriptSetReader.readJson(a,"Text",d,[""],u),n=e.ScriptSetReader.readJson(a,"Lines",d,["line",
"lines"],n),p=e.ScriptSetReader.readJson(a,"Words",d,["word","words"],p),t=e.ScriptSetReader.readJson(a,"Characters",d,["char","chars"],t);return new b.Items.TextItem(a,g,f,k,l,m,u,v,n,x,p,B,t)}})(d=e.Items||(e.Items={}));l=function(){function a(){}a.writeSet=function(b,c){c.forEach(function(c){b[c.type.jsonNames[c.type.jsonNames.length-1]]=a.write(c)})};a.write=function(a){var b={};a.type.variableTypes.forEach(function(c){c=c.jsonNames[c.jsonNames.length-1];var d=a[c].getValue();void 0!==d&&(b[c]=
d)});return b};return a}();e.PropertyWriter=l;l=function(){function a(){}a.write=function(a){return{}};return a}();e.PropertyListWriter=l;var a=h.Motion.Models.Scripts.ScriptType,l=function(){function b(){}b.write=function(c){var d=c.type,e=void 0,e=0===d?b.writeInitEvent(c):1===d?b.writeStepEvent(c):2===d?b.writeSwitchEvent(c):3===d?b.writeActionsOrphan(c):4===d?b.writePropertyOrphan(c):{};e.type=a.toString(c.type);e.editor={};e.editor.x=c.x;e.editor.y=c.y;return e};b.writeInitEvent=function(a){var b=
{};e.PropertyWriter.writeSet(b,a.properties);return b};b.writeStepEvent=function(a){var b={scriptType:"step"};0<a.stepIndex&&(b.scriptType+=a.stepIndex+1);b.actions=e.ActionWriter.writeArray(a.actions);return b};b.writeSwitchEvent=function(a){var b={};b.switch=a.switchName;b.actions=e.ActionWriter.writeArray(a.actions);return b};b.writeActionsOrphan=function(a){var b={};b.actions=e.ActionWriter.writeArray(a.actions);return b};b.writePropertyOrphan=function(a){var b={};e.PropertyWriter.writeSet(b,
a.properties);return b};return b}();e.ScriptWriter=l;(function(a){a.write_image=function(a,b){b.setup=b.setup||{};b.setup.src=a.src;a.width&&(b.setup.class=a.width);a.height&&(b.setup.class=a.height);b.init=e.PropertyListWriter.write(a.init);b.scripts=e.ScriptSetWriter.write(a.scriptSet)};a.write_layer=function(a,b){b.init=e.PropertyListWriter.write(a.init);b.scripts=e.ScriptSetWriter.write(a.scriptSet);e.PageWriter.writeItems(a,b)};a.write_text=function(a,b){b.setup=b.setup||{};var c=a.text.split("<br>");
b.setup.text=1<c.length?c:a.text;a.stackedLines&&(b.setup.stackedLines=!0);a.stackedWords&&(b.setup.stackedWords=!0);a.stackedChars&&(b.setup.stackedChars=!0);b.init=e.PropertyListWriter.write(a.init);b.scripts=e.ScriptSetWriter.write(a.scriptSet);b.lineInit=e.PropertyListWriter.write(a.linesInit);b.lineScripts=e.ScriptSetWriter.write(a.linesScriptSet);b.wordInit=e.PropertyListWriter.write(a.wordsInit);b.wordScripts=e.ScriptSetWriter.write(a.wordsScriptSet);b.charInit=e.PropertyListWriter.write(a.charsInit);
b.charScripts=e.ScriptSetWriter.write(a.charsScriptSet)}})(d=e.Items||(e.Items={}));var c=h.Motion.Models;d=h.Motion.Models.Items;l=function(){function a(){}a.read=function(b,d){d=d||{};d.init=d.init||{};var f=c.Properties.PerElement.Canvas.getPropertyTypes(),g=c.Properties.PerElement.Frame.getPropertyTypes(),h=c.Properties.PerElement.Page.getPropertyTypes(),k=e.PropertyListReader.read(b.story,d.init,h,b.getDefaultPageClassName(),b.getDefaultPageClassValue()),k=new c.Page(k,b);k.canvasScriptSet=e.ScriptSetReader.readJson(k,
"Canvas",d,["canvas"],f);k.frameScriptSet=e.ScriptSetReader.readJson(k,"Frame",d,["frame"],g);k.pageScriptSet=e.ScriptSetReader.readJson(k,"Page",d,["page"],h);k.items=a.readItems(k,d);k.steps=a.readSteps(k,d,k.items);return k};a.readSteps=function(a,b,c){b=b.steps||[];var f=[];b instanceof Array&&b.forEach(function(b){f.push(e.StepReader.read(a,b))});var g=1;c.forEach(function(a){g=Math.max(g,a.getCountOfStepsUsed());a instanceof d.SequencedItem&&(g=Math.max(g,a.sequenceOnStepIndex+1))});g=Math.max(g,
a.canvasScriptSet.getCountOfStepsUsed());g=Math.max(g,a.frameScriptSet.getCountOfStepsUsed());g=Math.max(g,a.pageScriptSet.getCountOfStepsUsed());if(f.length<g)for(b=g-f.length,c=0;c<b;c++)f.push(e.StepReader.read(a,{}));return f};a.readItems=function(a,b){var c=b.items;void 0===c&&void 0!==b.item&&(c=[b.item]);var c=c||[],d=[];c instanceof Array&&c.forEach(function(b){d.push(e.ItemReader.read(a,b))});return d};return a}();e.PageReader=l;l=function(){function a(){}a.write=function(b){var c={steps:[]};
b.steps.forEach(function(a){c.steps.push(e.StepWriter.write(a))});c.items=[];a.writeItems(b,c);return c};a.writeItems=function(a,b){a.items.forEach(function(a){b.items.push(e.ItemWriter.write(a))})};return a}();e.PageWriter=l;var m=h.Motion.Models.Scripts,a=h.Motion.Models.Scripts.ScriptType,b=h.Motion.Util,l=function(){function c(){}c.read=function(d,e){e=e||{};e.scriptType=e.scriptType||a.toString(1);var f=a.fromString(e.scriptType),g=void 0,g=1===f?c.readStepEvent(d,e):2===f?c.readSwitchEvent(d,
e):3===f?c.readActionsOrphan(d,e):4===f?c.readPropertyOrphan(d,e):c.readInitEvent(d,e);e.editor=e.editor||{};g.x=b.convertToNumber(e.editor.x);g.y=b.convertToNumber(e.editor.y);return g};c.readInitEvent=function(a,b){var c=new m.InitEvent(a);c.properties=e.PropertyListReader.read(a.itemSet.story,b,a.itemProperties).properties;return c};c.readStepEvent=function(a,c){var d=c.scriptType.slice(4),d=Math.max(0,b.convertToNumber(d,1)-1),d=new m.StepEvent(a,d),f=void 0;void 0!==c.actions?f=c.actions:void 0!==
c.action&&(f=[c.action]);d.actions=e.ActionReader.readArray(d,f);return d};c.readSwitchEvent=function(a,b){var c=new m.SwitchEvent(a,b.switch||"");c.actions=e.ActionReader.readArray(c,b.actions);return c};c.readActionsOrphan=function(a,b){var c=new m.ActionsOrphan(a);c.actions=e.ActionReader.readArray(c,b.actions);return c};c.readPropertyOrphan=function(a,b){var c=new m.PropertyOrphan(a);c.properties=e.PropertyListReader.read(a.itemSet.story,b,a.itemProperties).properties;return c};return c}();e.ScriptReader=
l;m=h.Motion.Models.Scripts;l=function(){function a(){}a.read=function(a,b,c,d){var f=new m.ScriptSet(a,b,d);if(!(c instanceof Array))return f;c.forEach(function(a){f.scripts.push(e.ScriptReader.read(f,a))});return f};a.readJson=function(b,c,d,f,h){d=g.Util.lowercaseProperties(d);for(var k=new m.ScriptSet(b,c,h),l=0;l<f.length;l++){var n=f[l];if(d[n+"scripts"]instanceof Array)return a.read(b,c,d[n+"scripts"],h);if(void 0!==d[n+"script"])k.scripts.push(e.ScriptReader.read(k,d[n+"script"]));else{var p=
new m.StepEvent(k,0);if(d[n+"actions"]instanceof Array)p.actions=e.ActionReader.readArray(p,d[n+"actions"]);else if(void 0!==d[n+"action"])p.actions=e.ActionReader.readArray(p,[d[n+"action"]]);else continue;k.scripts.push(p)}return k}k=new m.ScriptSet(b,c,h);if(!(d instanceof Array))return k;d.forEach(function(a){k.scripts.push(e.ScriptReader.read(k,a))});return k};return a}();e.ScriptSetReader=l;l=function(){function a(){}a.write=function(a){var b=[];a.scripts.forEach(function(a){b.push(e.ScriptWriter.write(a))});
return b};return a}();e.ScriptSetWriter=l;f=h.Motion.Models.Properties;l=function(){function a(){}a.read=function(a){a instanceof Array||(a=void 0);return void 0===a?void 0:new f.Stagger(a[0],a[1],a[2])};return a}();e.StaggerReader=l;l=function(){function a(){}a.write=function(a){if(!a.isDefault()){var b=[];b.push(a.delay);b.push(a.targets);b.push(a.order);return b}};return a}();e.StaggerWriter=l;c=h.Motion.Models;l=function(){function a(){}a.read=function(a,b){return new c.Step(b.autoAdvanceDelay)};
return a}();e.StepReader=l;l=function(){function a(){}a.write=function(a){var b={};void 0!==a.autoAdvanceDelay&&(b.autoAdvanceDelay=a.autoAdvanceDelay);return b};return a}();e.StepWriter=l;c=h.Motion.Models;l=function(){function a(){}a.read=function(a){a=a||{};var b=e.CanvasReader.read(a.canvas||{}),d=e.FrameReader.read(a.frame||{}),f=[],g=new c.Story(b,d,f,a.classes);a.flows instanceof Array?a.flows.forEach(function(a){f.push(e.FlowReader.read(g,a))}):void 0!==a.flow?f.push(e.FlowReader.read(g,a.flow)):
a.pages instanceof Array?f.push(e.FlowReader.read(g,{pages:a.pages})):void 0!==a.page?f.push(e.FlowReader.read(g,{pages:[a.page]})):a.items instanceof Array?f.push(e.FlowReader.read(g,{pages:[{items:a.items}]})):void 0!==a.item&&f.push(e.FlowReader.read(g,{pages:[{items:[a.item]}]}));0===f.length&&f.push(e.FlowReader.read(g,{}));return g};return a}();e.StoryReader=l;l=function(){function a(){}a.write=function(a){var b={};b.canvas=e.CanvasWriter.write(a.canvas);b.frame=e.FrameWriter.write(a.frame);
b.flows=[];a.flows.forEach(function(a){b.flows.push(e.FlowWriter.write(a))});return b};a.stringify=function(b){return JSON.stringify(a.write(b))};return a}();e.StoryWriter=l})(g.Serialization||(g.Serialization={}));(function(e){e.createChildSvgElement=function(e,b,g){void 0===g&&(g=void 0);b=document.createElementNS("http://www.w3.org/2000/svg",b);for(var f in g)b.setAttribute(f,g[f]);e.appendChild(b);return b}})(g.Util||(g.Util={}));g.reload=m;g.bootstrap=n;n()})(h.Motion||(h.Motion={}))})(Pro||
(Pro={}));
